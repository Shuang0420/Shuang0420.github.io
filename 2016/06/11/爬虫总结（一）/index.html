<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Crawler," />





  <link rel="alternate" href="/atom.xml" title="å¾é˜¿è¡¡" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="çˆ¬è™«åœ¨å¹³æ—¶ä¹Ÿç»å¸¸ç”¨ï¼Œä½†ä¸€ç›´æ²¡æœ‰ç³»ç»Ÿçš„æ€»ç»“è¿‡ï¼Œå…¶å®å®ƒæ¶‰åŠäº†è®¸å¤šçš„çŸ¥è¯†ç‚¹ã€‚è¿™ä¸€ç³»åˆ—ä¼šç†ä¸€éè¿™äº›çŸ¥è¯†ç‚¹ï¼Œä¸æ±‚è¯¦å°½ï¼Œåªå¸Œæœ›ä»¥ç‚¹å¸¦é¢æ„å»ºä¸€ä¸ªçˆ¬è™«çš„çŸ¥è¯†æ¡†æ¶ã€‚è¿™ä¸€ç¯‡æ˜¯æ¦‚å¿µæ€§è§£é‡Šä»¥åŠå…¥é—¨çº§çˆ¬è™«ä»‹ç»ï¼ˆä»¥çˆ¬å–ç½‘æ˜“æ–°é—»ä¸ºä¾‹ï¼‰ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="çˆ¬è™«æ€»ç»“ï¼ˆä¸€ï¼‰">
<meta property="og:url" content="http://yoursite.com/2016/06/11/çˆ¬è™«æ€»ç»“ï¼ˆä¸€ï¼‰/index.html">
<meta property="og:site_name" content="å¾é˜¿è¡¡">
<meta property="og:description" content="çˆ¬è™«åœ¨å¹³æ—¶ä¹Ÿç»å¸¸ç”¨ï¼Œä½†ä¸€ç›´æ²¡æœ‰ç³»ç»Ÿçš„æ€»ç»“è¿‡ï¼Œå…¶å®å®ƒæ¶‰åŠäº†è®¸å¤šçš„çŸ¥è¯†ç‚¹ã€‚è¿™ä¸€ç³»åˆ—ä¼šç†ä¸€éè¿™äº›çŸ¥è¯†ç‚¹ï¼Œä¸æ±‚è¯¦å°½ï¼Œåªå¸Œæœ›ä»¥ç‚¹å¸¦é¢æ„å»ºä¸€ä¸ªçˆ¬è™«çš„çŸ¥è¯†æ¡†æ¶ã€‚è¿™ä¸€ç¯‡æ˜¯æ¦‚å¿µæ€§è§£é‡Šä»¥åŠå…¥é—¨çº§çˆ¬è™«ä»‹ç»ï¼ˆä»¥çˆ¬å–ç½‘æ˜“æ–°é—»ä¸ºä¾‹ï¼‰ã€‚">
<meta property="og:image" content="http://7xu83c.com1.z0.glb.clouddn.com/webserver.png">
<meta property="og:image" content="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-11%20%E4%B8%8B%E5%8D%889.35.09.png">
<meta property="og:image" content="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-11%20%E4%B8%8B%E5%8D%881.44.20.png">
<meta property="og:image" content="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-11%20%E4%B8%8B%E5%8D%889.08.54.png">
<meta property="og:image" content="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-11%20%E4%B8%8B%E5%8D%889.10.28.png">
<meta property="og:image" content="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-11%20%E4%B8%8B%E5%8D%889.14.06.png">
<meta property="og:image" content="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-11%20%E4%B8%8B%E5%8D%889.11.23.png">
<meta property="og:updated_time" content="2016-06-16T13:47:45.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="çˆ¬è™«æ€»ç»“ï¼ˆä¸€ï¼‰">
<meta name="twitter:description" content="çˆ¬è™«åœ¨å¹³æ—¶ä¹Ÿç»å¸¸ç”¨ï¼Œä½†ä¸€ç›´æ²¡æœ‰ç³»ç»Ÿçš„æ€»ç»“è¿‡ï¼Œå…¶å®å®ƒæ¶‰åŠäº†è®¸å¤šçš„çŸ¥è¯†ç‚¹ã€‚è¿™ä¸€ç³»åˆ—ä¼šç†ä¸€éè¿™äº›çŸ¥è¯†ç‚¹ï¼Œä¸æ±‚è¯¦å°½ï¼Œåªå¸Œæœ›ä»¥ç‚¹å¸¦é¢æ„å»ºä¸€ä¸ªçˆ¬è™«çš„çŸ¥è¯†æ¡†æ¶ã€‚è¿™ä¸€ç¯‡æ˜¯æ¦‚å¿µæ€§è§£é‡Šä»¥åŠå…¥é—¨çº§çˆ¬è™«ä»‹ç»ï¼ˆä»¥çˆ¬å–ç½‘æ˜“æ–°é—»ä¸ºä¾‹ï¼‰ã€‚">
<meta name="twitter:image" content="http://7xu83c.com1.z0.glb.clouddn.com/webserver.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 6294135991397516000,
      author: 'é˜¿è¡¡'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2016/06/11/çˆ¬è™«æ€»ç»“ï¼ˆä¸€ï¼‰/"/>

  <title> çˆ¬è™«æ€»ç»“ï¼ˆä¸€ï¼‰ | å¾é˜¿è¡¡ </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">å¾é˜¿è¡¡</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Shuang</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                çˆ¬è™«æ€»ç»“ï¼ˆä¸€ï¼‰
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-06-11T14:35:48+08:00" content="2016-06-11">
              2016-06-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Programming-language/" itemprop="url" rel="index">
                    <span itemprop="name">Programming language</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/11/çˆ¬è™«æ€»ç»“ï¼ˆä¸€ï¼‰/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/06/11/çˆ¬è™«æ€»ç»“ï¼ˆä¸€ï¼‰/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
              &nbsp; | &nbsp;
              <span class="page-pv"><i class="fa fa-file-o"></i>
              <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
              </span>
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>çˆ¬è™«åœ¨å¹³æ—¶ä¹Ÿç»å¸¸ç”¨ï¼Œä½†ä¸€ç›´æ²¡æœ‰ç³»ç»Ÿçš„æ€»ç»“è¿‡ï¼Œå…¶å®å®ƒæ¶‰åŠäº†è®¸å¤šçš„çŸ¥è¯†ç‚¹ã€‚è¿™ä¸€ç³»åˆ—ä¼šç†ä¸€éè¿™äº›çŸ¥è¯†ç‚¹ï¼Œä¸æ±‚è¯¦å°½ï¼Œåªå¸Œæœ›ä»¥ç‚¹å¸¦é¢æ„å»ºä¸€ä¸ªçˆ¬è™«çš„çŸ¥è¯†æ¡†æ¶ã€‚è¿™ä¸€ç¯‡æ˜¯æ¦‚å¿µæ€§è§£é‡Šä»¥åŠå…¥é—¨çº§çˆ¬è™«ä»‹ç»ï¼ˆä»¥çˆ¬å–ç½‘æ˜“æ–°é—»ä¸ºä¾‹ï¼‰ã€‚<br><a id="more"></a></p>
<h1 id="çˆ¬è™«åŸºç¡€"><a href="#çˆ¬è™«åŸºç¡€" class="headerlink" title="çˆ¬è™«åŸºç¡€"></a>çˆ¬è™«åŸºç¡€</h1><h2 id="ä»€ä¹ˆæ˜¯çˆ¬è™«"><a href="#ä»€ä¹ˆæ˜¯çˆ¬è™«" class="headerlink" title="ä»€ä¹ˆæ˜¯çˆ¬è™«"></a>ä»€ä¹ˆæ˜¯çˆ¬è™«</h2><p>çˆ¬è™«è¯´ç™½äº†å…¶å®å°±æ˜¯è·å–èµ„æºçš„ç¨‹åºã€‚åˆ¶ä½œçˆ¬è™«çš„æ€»ä½“åˆ†ä¸‰æ­¥ï¼šçˆ¬ï¼å–ï¼å­˜ã€‚é¦–å…ˆè¦è·å–æ•´ä¸ªç½‘é¡µçš„æ‰€æœ‰å†…å®¹ï¼Œç„¶åå†å–å‡ºå…¶ä¸­å¯¹ä½ æœ‰ç”¨çš„éƒ¨åˆ†ï¼Œæœ€åå†ä¿å­˜ğŸŠçš„éƒ¨åˆ†ã€‚</p>
<h2 id="çˆ¬è™«ç±»å‹"><a href="#çˆ¬è™«ç±»å‹" class="headerlink" title="çˆ¬è™«ç±»å‹"></a>çˆ¬è™«ç±»å‹</h2><ul>
<li>ç½‘ç»œçˆ¬è™«<br>ç½‘ç»œçˆ¬è™«ï¼Œæ˜¯ä¸€ç§æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼Œ<strong>è‡ªåŠ¨çš„</strong> æŠ“å–ä¸‡ç»´ç½‘ä¿¡æ¯çš„ç¨‹åºæˆ–è€…è„šæœ¬ã€‚ç½‘ç»œçˆ¬è™«æ˜¯æœç´¢å¼•æ“ç³»ç»Ÿä¸­ååˆ†é‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼Œçˆ¬å–çš„ç½‘é¡µä¿¡æ¯ç”¨äºå»ºç«‹ç´¢å¼•ä»è€Œä¸ºæœç´¢å¼•æ“æä¾›æ”¯æŒï¼Œå®ƒå†³å®šç€æ•´ä¸ªå¼•æ“ç³»ç»Ÿçš„å†…å®¹æ˜¯å¦ä¸°å¯Œï¼Œä¿¡æ¯æ˜¯å¦å³æ—¶ï¼Œå…¶æ€§èƒ½çš„ä¼˜åŠ£ç›´æ¥å½±å“ç€æœç´¢å¼•æ“çš„æ•ˆæœã€‚</li>
<li>ä¼ ç»Ÿçˆ¬è™«<br>ä»ä¸€ä¸ªæˆ–è‹¥å¹²åˆå§‹ç½‘é¡µçš„URLå¼€å§‹ï¼Œè·å¾—åˆå§‹ç½‘é¡µçš„URLï¼Œåœ¨æŠ“å–ç½‘é¡µè¿‡ç¨‹ä¸­ï¼Œä¸æ–­ä»å½“å‰é¡µé¢ä¸ŠæŠ½å–æ–°çš„URLæ”¾å…¥é˜Ÿåˆ—ï¼Œç›´åˆ°æ»¡è¶³ç³»ç»Ÿçš„ä¸€å®šåœæ­¢æ¡ä»¶ã€‚</li>
</ul>
<h2 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h2><ul>
<li>æ ¹æ®ä¸€å®šçš„ç½‘é¡µåˆ†æç®—æ³•è¿‡æ»¤ä¸ä¸»é¢˜æ— å…³çš„é“¾æ¥ï¼Œä¿ç•™æœ‰ç”¨é“¾æ¥å¹¶å°†å…¶æ”¾å…¥ç­‰å¾…æŠ“å–çš„URLé˜Ÿåˆ—</li>
<li>æ ¹æ®ä¸€å®šçš„æœç´¢ç­–ç•¥ä»é˜Ÿåˆ—ä¸­é€‰æ‹©ä¸‹ä¸€æ­¥è¦æŠ“å–çš„ç½‘é¡µURLï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°è¾¾åˆ°æŒ‡å®šæ¡ä»¶æ‰ç»“æŸçˆ¬å–</li>
<li>å¯¹æ‰€æœ‰æŠ“å–çš„ç½‘é¡µè¿›è¡Œä¸€å®šçš„åˆ†æã€è¿‡æ»¤ï¼Œå¹¶å»ºç«‹ç´¢å¼•ï¼Œä»¥ä¾¿ä¹‹åçš„æŸ¥è¯¢å’Œæ£€ç´¢ã€‚</li>
</ul>
<h2 id="çˆ¬å–ç­–ç•¥"><a href="#çˆ¬å–ç­–ç•¥" class="headerlink" title="çˆ¬å–ç­–ç•¥"></a>çˆ¬å–ç­–ç•¥</h2><h3 id="å¹¿åº¦ä¼˜å…ˆ"><a href="#å¹¿åº¦ä¼˜å…ˆ" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆ"></a>å¹¿åº¦ä¼˜å…ˆ</h3><p>å®Œæˆå½“å‰å±‚æ¬¡çš„æœç´¢åæ‰è¿›è¡Œä¸‹ä¸€å±‚æ¬¡çš„æœç´¢ã€‚ä¸€èˆ¬çš„ä½¿ç”¨ç­–ç•¥ï¼Œä¸€èˆ¬é€šè¿‡é˜Ÿåˆ—æ¥å®ç°ã€‚</p>
<h3 id="æœ€ä½³ä¼˜å…ˆ"><a href="#æœ€ä½³ä¼˜å…ˆ" class="headerlink" title="æœ€ä½³ä¼˜å…ˆ"></a>æœ€ä½³ä¼˜å…ˆ</h3><p>ä¼šæœ‰è¯„ä¼°ç®—æ³•ï¼Œå‡¡æ˜¯è¢«ç®—æ³•è¯„ä¼°ä¸ºæœ‰ç”¨çš„ç½‘é¡µï¼Œå…ˆæ¥çˆ¬å–ã€‚</p>
<h3 id="æ·±åº¦ä¼˜å…ˆ"><a href="#æ·±åº¦ä¼˜å…ˆ" class="headerlink" title="æ·±åº¦ä¼˜å…ˆ"></a>æ·±åº¦ä¼˜å…ˆ</h3><p>å®é™…åº”ç”¨å¾ˆå°‘ã€‚å¯èƒ½ä¼šå¯¼è‡´trappedé—®é¢˜ã€‚é€šè¿‡æ ˆæ¥å®ç°ã€‚</p>
<h2 id="URLï¼ˆ-Uniform-Resource-Locator-ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰"><a href="#URLï¼ˆ-Uniform-Resource-Locator-ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰" class="headerlink" title="URLï¼ˆ Uniform Resource Locator: ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰"></a>URLï¼ˆ Uniform Resource Locator: ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰</h2><p>äº’è”ç½‘ä¸Šèµ„æºå‡æœ‰å…¶å”¯ä¸€çš„åœ°å€ï¼Œç”±ä¸‰éƒ¨åˆ†ç»„æˆã€‚</p>
<ul>
<li>æ¨¡å¼/åè®®</li>
<li>æ–‡ä»¶æ‰€åœ¨IPåœ°å€åŠç«¯å£å·</li>
<li>ä¸»æœºä¸Šçš„èµ„æºä½ç½®</li>
<li>ä¾‹å­ï¼š<a href="http://www.example.com/index.html" target="_blank" rel="external">http://www.example.com/index.html</a></li>
</ul>
<h2 id="Web-Serverï¼Socketå¦‚ä½•å»ºç«‹è¿æ¥å’Œä¼ è¾“æ•°æ®çš„"><a href="#Web-Serverï¼Socketå¦‚ä½•å»ºç«‹è¿æ¥å’Œä¼ è¾“æ•°æ®çš„" class="headerlink" title="Web Serverï¼Socketå¦‚ä½•å»ºç«‹è¿æ¥å’Œä¼ è¾“æ•°æ®çš„"></a>Web Serverï¼Socketå¦‚ä½•å»ºç«‹è¿æ¥å’Œä¼ è¾“æ•°æ®çš„</h2><p>web server çš„å·¥ä½œè¿‡ç¨‹å…¶å®å’Œæ‰“ç”µè¯çš„è¿‡ç¨‹å·®ä¸å¤šï¼ˆä¹°ç”µè¯â€“&gt;æ³¨å†Œå·ç â€“&gt;ç›‘å¬â€“&gt;æ’é˜Ÿæ¥å¬â€“&gt;è¯»å†™â€“&gt;å…³é—­ï¼‰ï¼Œç»å…¸çš„ä¸‰æ­¥æ¡æ‰‹ï¼ˆæœ‰äººåœ¨å—ï¼Ÿæˆ‘åœ¨å‘¢ï¼Œä½ å‘¢ï¼Ÿæˆ‘ä¹Ÿåœ¨ï¼‰åœ¨æ’é˜Ÿæ¥å¬æ—¶è¿›è¡Œã€‚ä¸‹é¢ä¸€å¼ å›¾è¶³ä»¥è§£é‡Šä¸€åˆ‡ã€‚</p>
<p><img src="http://7xu83c.com1.z0.glb.clouddn.com/webserver.png" alt=""></p>
<p>Crawlerç«¯éœ€è¦ä¸€ä¸ªsocketæ¥å£ï¼Œå‘æœåŠ¡å™¨ç«¯å‘èµ·connectè¯·æ±‚ï¼Œå®Œæˆè¿æ¥åå°±å¯ä»¥å’ŒæœåŠ¡å™¨äº¤æµäº†ï¼Œæ“ä½œå®Œæ¯•ä¼šå…³é—­socketæ¥å£ã€‚æœåŠ¡å™¨ç«¯æ›´å¤æ‚ä¸€ç‚¹ï¼Œä¹Ÿéœ€è¦ä¸€ä¸ªsocketæ¥å£ï¼Œå¹¶ä¸”è¿™ä¸ªsocketæ¥å£éœ€è¦ç»‘å®šä¸€ä¸ªåœ°å€ï¼ˆbind()ï¼‰ï¼Œè¿™å°±ç›¸å½“äºæœ‰ä¸€ä¸ªå›ºå®šçš„ç”µè¯å·ç ï¼Œè¿™æ ·å…¶ä»–äººæ‹¨æ‰“è¿™ä¸ªå·ç å°±å¯ä»¥æ‰¾åˆ°è¿™ä¸ªæœåŠ¡å™¨ã€‚ç»‘å®šä¹‹åæœåŠ¡å™¨çš„socketå°±å¼€å§‹ç›‘å¬ï¼ˆlisten()ï¼‰æœ‰æ²¡æœ‰ç”¨æˆ·è¯·æ±‚ï¼Œå¦‚æœæœ‰ï¼Œå°±æ¥æ”¶è¯·æ±‚ï¼ˆaccept()ï¼‰ï¼Œå’Œç”¨æˆ·å»ºç«‹è¿æ¥ï¼Œç„¶åå°±å¯ä»¥äº¤æµã€‚</p>
<h2 id="HTML-DOM"><a href="#HTML-DOM" class="headerlink" title="HTML DOM"></a>HTML DOM</h2><ul>
<li>DOM å°† HTML æ–‡æ¡£è¡¨è¾¾ä¸ºæ ‘ç»“æ„</li>
<li>å®šä¹‰äº†è®¿é—®å’Œæ“ä½œ HTML æ–‡æ¡£çš„æ ‡å‡†</li>
</ul>
<p><img src="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-11%20%E4%B8%8B%E5%8D%889.35.09.png" alt=""></p>
<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><ul>
<li>ç”±æœåŠ¡å™¨ç«¯ç”Ÿæˆï¼Œå‘é€ç»™ User-Agent(ä¸€èˆ¬æ˜¯æµè§ˆå™¨)ï¼Œæµè§ˆå™¨ä¼šå°† Cookie çš„ key/value ä¿å­˜åˆ°æŸä¸ªç›®å½•ä¸‹çš„æ–‡æœ¬æ–‡ä»¶å“ªï¼Œä¸‹æ¬¡è®¿é—®åŒä¸€ç½‘ç«™æ—¶å°±å‘é€è¯¥ Cookie ç»™æœåŠ¡å™¨ã€‚</li>
</ul>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><ul>
<li>GET ç›´æ¥ä»¥é“¾æ¥å½¢å¼è®¿é—®ï¼Œé“¾æ¥ä¸­åŒ…å«äº†æ‰€æœ‰çš„å‚æ•°</li>
<li>PUT æŠŠæäº¤çš„æ•°æ®æ”¾åˆ° HTTP åŒ…çš„åŒ…ä½“ä¸­<pre>
eg.
import urllib
import urllib2
url='http://www.zhihu.com/#signin'
user_agent='MOZILLA/5.0'
values={'username':'252618408@qq.com','password':'xxx'}
headers={'User-Agent':user_agent}
data=urllib.urlencode(values) # urlencode æ˜¯ urllib ç‹¬æœ‰çš„æ–¹æ³•
request=urllib2.Request(url,data,headers) # write a letter
response=urllib2.urlopen(request) # send the letter and get the reply
page=response.read() # read the reply
</pre>

</li>
</ul>
<p>urllib ä»…å¯ä»¥æ¥å— URLï¼Œè¿™æ„å‘³ç€ä½ ä¸å¯ä»¥ä¼ªè£…ä½ çš„ User Agent å­—ç¬¦ä¸²ç­‰ï¼Œä½† urllib æä¾›äº† urlencode æ–¹æ³•ç”¨æ¥GETæŸ¥è¯¢å­—ç¬¦ä¸²ç­‰äº§ç”Ÿï¼Œè€Œ urllib2 æ²¡æœ‰ã€‚<br>å› æ­¤ urllib, urllib2ç»å¸¸ä¸€èµ·ä½¿ç”¨ã€‚</p>
<h3 id="Headers-è®¾ç½®"><a href="#Headers-è®¾ç½®" class="headerlink" title="Headers è®¾ç½®"></a>Headers è®¾ç½®</h3><ul>
<li>User-Agent: éƒ¨åˆ†æœåŠ¡å™¨æˆ– Proxy ä¼šé€šè¿‡è¯¥å€¼æ¥åˆ¤æ–­æ˜¯å¦æ˜¯æµè§ˆå™¨å‘å‡ºçš„è¯·æ±‚</li>
<li>Content-Type: ä½¿ç”¨ REST æ¥å£æ—¶ï¼ŒæœåŠ¡å™¨ä¼šæ£€æŸ¥è¯¥å€¼ï¼Œç”¨æ¥ç¡®å®š HTTP Body ä¸­çš„å†…å®¹è¯¥æ€æ ·è§£æ</li>
<li>application/xml: åœ¨ XMl RPC, å¦‚ RESTful/SOAP è°ƒç”¨æ—¶ä½¿ç”¨</li>
<li>application/json: åœ¨ JSON RPC è°ƒç”¨æ—¶ä½¿ç”¨</li>
<li>application/x-www-form-urlencoded: æµè§ˆå™¨æäº¤ Web è¡¨å•æ—¶ä½¿ç”¨</li>
</ul>
<h1 id="æœ€ç®€å•çš„çˆ¬è™«"><a href="#æœ€ç®€å•çš„çˆ¬è™«" class="headerlink" title="æœ€ç®€å•çš„çˆ¬è™«"></a>æœ€ç®€å•çš„çˆ¬è™«</h1><h2 id="requests-åº“"><a href="#requests-åº“" class="headerlink" title="requests åº“"></a>requests åº“</h2><pre>
import requests
url = "http://shuang0420.github.io/"
r = requests.get(url)
</pre>

<h2 id="urllib2-åº“"><a href="#urllib2-åº“" class="headerlink" title="urllib2 åº“"></a>urllib2 åº“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import urllib2</span><br><span class="line"># request source file</span><br><span class="line">url = &quot;http://shuang0420.github.io/&quot;</span><br><span class="line">request = urllib2.Request(url)  # write a letter</span><br><span class="line">response = urllib2.urlopen(request)  # send the letter and get the reply</span><br><span class="line">page = response.read()  # read the reply</span><br><span class="line"></span><br><span class="line"># save source file</span><br><span class="line">webFile = open(&apos;webPage.html&apos;, &apos;wb&apos;)</span><br><span class="line">webFile.write(page)</span><br><span class="line">webFile.close()</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„çˆ¬è™«ï¼Œæ‰“å¼€ webPage.html æ˜¯è¿™æ ·çš„æ˜¾ç¤ºï¼Œæ²¡æœ‰css.<br><img src="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-11%20%E4%B8%8B%E5%8D%881.44.20.png" alt=""></p>
<h1 id="å®ä¾‹ï¼šçˆ¬å–ç½‘æ˜“æ–°é—»"><a href="#å®ä¾‹ï¼šçˆ¬å–ç½‘æ˜“æ–°é—»" class="headerlink" title="å®ä¾‹ï¼šçˆ¬å–ç½‘æ˜“æ–°é—»"></a>å®ä¾‹ï¼šçˆ¬å–ç½‘æ˜“æ–°é—»</h1><p>çˆ¬å–ç½‘æ˜“æ–°é—» [ä»£ç ç¤ºä¾‹]<br>â€“ ä½¿ç”¨ urllib2 çš„ requestsåŒ…æ¥çˆ¬å–é¡µé¢<br>â€“ ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å’Œ bs4 åˆ†æä¸€çº§é¡µé¢,ä½¿ç”¨ Xpath æ¥åˆ†æäºŒçº§é¡µé¢<br>â€“ å°†å¾—åˆ°çš„æ ‡é¢˜å’Œé“¾æ¥,ä¿å­˜ä¸ºæœ¬åœ°æ–‡ä»¶</p>
<h2 id="åˆ†æåˆå§‹é¡µé¢"><a href="#åˆ†æåˆå§‹é¡µé¢" class="headerlink" title="åˆ†æåˆå§‹é¡µé¢"></a>åˆ†æåˆå§‹é¡µé¢</h2><p>æˆ‘ä»¬çš„åˆå§‹é¡µé¢æ˜¯ <a href="http://news.163.com/rank" target="_blank" rel="external">http://news.163.com/rank</a><br><img src="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-11%20%E4%B8%8B%E5%8D%889.08.54.png" alt=""></p>
<p>æŸ¥çœ‹æºä»£ç <br><img src="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-11%20%E4%B8%8B%E5%8D%889.10.28.png" alt=""></p>
<p>æˆ‘ä»¬æƒ³è¦çš„æ˜¯åˆ†ç±»æ ‡é¢˜å’ŒURLï¼Œéœ€è¦è§£æ DOM æ–‡æ¡£æ ‘,è¿™é‡Œä½¿ç”¨äº† BeautifulSoup é‡Œçš„æ–¹æ³•ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">def Nav_Info(myPage):</span><br><span class="line">    # äºŒçº§å¯¼èˆªçš„æ ‡é¢˜å’Œé¡µé¢</span><br><span class="line">    pageInfo = re.findall(r&apos;&lt;div class=&quot;subNav&quot;&gt;.*?&lt;div class=&quot;area areabg1&quot;&gt;&apos;, myPage, re.S)[</span><br><span class="line">        0].replace(&apos;&lt;div class=&quot;subNav&quot;&gt;&apos;, &apos;&apos;).replace(&apos;&lt;div class=&quot;area areabg1&quot;&gt;&apos;, &apos;&apos;)</span><br><span class="line">    soup = BeautifulSoup(pageInfo, &quot;lxml&quot;)</span><br><span class="line">    tags = soup(&apos;a&apos;)</span><br><span class="line">    topics = []</span><br><span class="line">    for tag in tags:</span><br><span class="line">        # åªè¦ ç§‘æŠ€ã€è´¢ç»ã€ä½“è‚² çš„æ–°é—»</span><br><span class="line">        # if (tag.string==&apos;ç§‘æŠ€&apos; or tag.string==&apos;è´¢ç»&apos; or tag.string==&apos;ä½“è‚²&apos;):</span><br><span class="line">        topics.append((tag.string, tag.get(&apos;href&apos;, None)))</span><br><span class="line">    return topics</span><br></pre></td></tr></table></figure></p>
<p>ç„¶è€Œï¼ŒBeautiful Soupå¯¹æ–‡æ¡£çš„è§£æé€Ÿåº¦ä¸ä¼šæ¯”å®ƒæ‰€ä¾èµ–çš„è§£æå™¨æ›´å¿«,å¦‚æœå¯¹è®¡ç®—æ—¶é—´è¦æ±‚å¾ˆé«˜æˆ–è€…è®¡ç®—æœºçš„æ—¶é—´æ¯”ç¨‹åºå‘˜çš„æ—¶é—´æ›´å€¼é’±,é‚£ä¹ˆå°±åº”è¯¥ç›´æ¥ä½¿ç”¨ lxmlã€‚æ¢å¥è¯è¯´,è¿˜æœ‰æé«˜Beautiful Soupæ•ˆç‡çš„åŠæ³•,ä½¿ç”¨lxmlä½œä¸ºè§£æå™¨ã€‚Beautiful Soupç”¨lxmlåšè§£æå™¨æ¯”ç”¨html5libæˆ–Pythonå†…ç½®è§£æå™¨é€Ÿåº¦å¿«å¾ˆå¤šã€‚bs4 çš„é»˜è®¤è§£æå™¨æ˜¯ html.parserï¼Œä½¿ç”¨lxmlçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre>BeautifulSoup(markup, "lxml")</pre>

<h2 id="åˆ†æäºŒçº§é¡µé¢"><a href="#åˆ†æäºŒçº§é¡µé¢" class="headerlink" title="åˆ†æäºŒçº§é¡µé¢"></a>åˆ†æäºŒçº§é¡µé¢</h2><p><img src="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-11%20%E4%B8%8B%E5%8D%889.14.06.png" alt=""></p>
<p>æŸ¥çœ‹æºä»£ç <br><img src="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-11%20%E4%B8%8B%E5%8D%889.11.23.png" alt=""></p>
<p>æˆ‘ä»¬è¦çˆ¬å–çš„æ˜¯<td></td>ä¹‹é—´çš„æ–°é—»æ ‡é¢˜å’Œé“¾æ¥ï¼ŒåŒæ ·éœ€è¦è§£ææ–‡æ¡£æ ‘ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç å®ç°ï¼Œè¿™é‡Œç”¨äº† lxml è§£æå™¨ï¼Œæ•ˆç‡æ›´é«˜ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def News_Info(newPage):</span><br><span class="line">    # xpath ä½¿ç”¨è·¯å¾„è¡¨è¾¾å¼æ¥é€‰å–æ–‡æ¡£ä¸­çš„èŠ‚ç‚¹æˆ–èŠ‚ç‚¹é›†</span><br><span class="line">    dom = etree.HTML(newPage)</span><br><span class="line">    news_titles = dom.xpath(&apos;//tr/td/a/text()&apos;)</span><br><span class="line">    news_urls = dom.xpath(&apos;//tr/td/a/@href&apos;)</span><br><span class="line">    return zip(news_titles, news_urls)</span><br></pre></td></tr></table></figure></p>
<p><a href="https://github.com/Shuang0420/Crawler/blob/master/news.py" target="_blank" rel="external">å®Œæ•´ä»£ç </a></p>
<h2 id="æ½œåœ¨é—®é¢˜"><a href="#æ½œåœ¨é—®é¢˜" class="headerlink" title="æ½œåœ¨é—®é¢˜"></a>æ½œåœ¨é—®é¢˜</h2><ol>
<li><p>æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯çˆ¬å–1ä¸‡ä¸ªç½‘é¡µï¼ŒæŒ‰ä¸Šé¢è¿™ä¸ªç¨‹åºï¼Œè€—è´¹æ—¶é—´é•¿ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘å¼€å¯å¤šä¸ªçº¿ç¨‹(æ± )å»ä¸€èµ·çˆ¬å–ï¼Œæˆ–è€…ç”¨åˆ†å¸ƒå¼æ¶æ„å»å¹¶å‘çš„çˆ¬å–ç½‘é¡µã€‚</p>
</li>
<li><p>ç§å­URLå’Œåç»­è§£æåˆ°çš„URLéƒ½æ”¾åœ¨ä¸€ä¸ªåˆ—è¡¨é‡Œï¼Œæˆ‘ä»¬åº”è¯¥è®¾è®¡ä¸€ä¸ªæ›´åˆç†çš„æ•°æ®ç»“æ„æ¥å­˜æ”¾è¿™äº›å¾…çˆ¬å–çš„URLæ‰æ˜¯ï¼Œæ¯”å¦‚é˜Ÿåˆ—æˆ–è€…ä¼˜å…ˆé˜Ÿåˆ—ã€‚</p>
</li>
<li><p>å¯¹å„ä¸ªç½‘ç«™çš„urlï¼Œæˆ‘ä»¬ä¸€è§†åŒä»ï¼Œäº‹å®ä¸Šï¼Œæˆ‘ä»¬åº”å½“åŒºåˆ«å¯¹å¾…ã€‚å¤§ç«™å¥½ç«™ä¼˜å…ˆåŸåˆ™åº”å½“äºˆä»¥è€ƒè™‘ã€‚</p>
</li>
<li><p>æ¯æ¬¡å‘èµ·è¯·æ±‚ï¼Œæˆ‘ä»¬éƒ½æ˜¯æ ¹æ®urlå‘èµ·è¯·æ±‚ï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šç‰µæ¶‰åˆ°DNSè§£æï¼Œå°†urlè½¬æ¢æˆipåœ°å€ã€‚ä¸€ä¸ªç½‘ç«™é€šå¸¸ç”±æˆåƒä¸Šä¸‡çš„URLï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘å°†è¿™äº›ç½‘ç«™åŸŸåçš„IPåœ°å€è¿›è¡Œç¼“å­˜ï¼Œé¿å…æ¯æ¬¡éƒ½å‘èµ·DNSè¯·æ±‚ï¼Œè´¹æ—¶è´¹åŠ›ã€‚</p>
</li>
<li><p>è§£æåˆ°ç½‘é¡µä¸­çš„urlsåï¼Œæˆ‘ä»¬æ²¡æœ‰åšä»»ä½•å»é‡å¤„ç†ï¼Œå…¨éƒ¨æ”¾å…¥å¾…çˆ¬å–çš„åˆ—è¡¨ä¸­ã€‚äº‹å®ä¸Šï¼Œå¯èƒ½æœ‰å¾ˆå¤šé“¾æ¥æ˜¯é‡å¤çš„ï¼Œæˆ‘ä»¬åšäº†å¾ˆå¤šé‡å¤åŠ³åŠ¨ã€‚</p>
</li>
<li><p>çˆ¬è™«è¢«å°ç¦é—®é¢˜</p>
</li>
</ol>
<h2 id="ä¼˜åŒ–æ–¹æ¡ˆ"><a href="#ä¼˜åŒ–æ–¹æ¡ˆ" class="headerlink" title="ä¼˜åŒ–æ–¹æ¡ˆ"></a>ä¼˜åŒ–æ–¹æ¡ˆ</h2><ol>
<li><p>å¹¶è¡Œçˆ¬å–é—®é¢˜</p>
<p> å…³äºå¹¶è¡Œçˆ¬å–ï¼Œé¦–å…ˆæˆ‘ä»¬æƒ³åˆ°çš„æ˜¯å¤šçº¿ç¨‹æˆ–è€…çº¿ç¨‹æ± æ–¹å¼ï¼Œä¸€ä¸ªçˆ¬è™«ç¨‹åºå†…éƒ¨å¼€å¯å¤šä¸ªçº¿ç¨‹ã€‚åŒä¸€å°æœºå™¨å¼€å¯å¤šä¸ªçˆ¬è™«ç¨‹åºï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±æœ‰Nå¤šçˆ¬å–çº¿ç¨‹åœ¨åŒæ—¶å·¥ä½œï¼Œå¤§å¤§æé«˜äº†æ•ˆç‡ã€‚</p>
<p> å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬è¦çˆ¬å–çš„ä»»åŠ¡ç‰¹åˆ«å¤šï¼Œä¸€å°æœºå™¨ã€ä¸€ä¸ªç½‘ç‚¹è‚¯å®šæ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬å¿…é¡»è€ƒè™‘åˆ†å¸ƒå¼çˆ¬è™«ã€‚åˆ†å¸ƒå¼æ¶æ„ï¼Œè€ƒè™‘çš„é—®é¢˜æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªscheduleræ¥åˆ†é…ä»»åŠ¡å¹¶æ’åºï¼Œå„ä¸ªçˆ¬è™«ä¹‹é—´è¿˜éœ€è¦é€šä¿¡åˆä½œï¼Œå…±åŒå®Œæˆä»»åŠ¡ï¼Œä¸è¦é‡å¤çˆ¬å–ç›¸åŒçš„ç½‘é¡µã€‚åˆ†é…ä»»åŠ¡æ—¶æˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘è´Ÿè½½å‡è¡¡ä»¥åšåˆ°å…¬å¹³ã€‚ï¼ˆå¯ä»¥é€šè¿‡Hashï¼Œæ¯”å¦‚æ ¹æ®ç½‘ç«™åŸŸåè¿›è¡Œhashï¼‰</p>
<p> è´Ÿè½½å‡è¡¡åˆ†æ´¾å®Œä»»åŠ¡ä¹‹åï¼Œåƒä¸‡ä¸è¦ä»¥ä¸ºä¸‡äº‹å¤§å‰äº†ï¼Œä¸‡ä¸€å“ªå°æœºå™¨æŒ‚äº†å‘¢ï¼ŸåŸå…ˆæŒ‡æ´¾ç»™æŒ‚æ‰çš„å“ªå°æœºå™¨çš„ä»»åŠ¡æŒ‡æ´¾ç»™è°ï¼Ÿåˆæˆ–è€…å“ªå¤©è¦å¢åŠ å‡ å°æœºå™¨ï¼Œä»»åŠ¡æœ‰è¯¥å¦‚ä½•è¿›è¡Œé‡æ–°åˆ†é…å‘¢ï¼Ÿæ‰€ä»¥æˆ‘ä»¬è¿˜è¦ task table æ¥çºªå½•çŠ¶æ€ã€‚</p>
</li>
<li><p>å¾…çˆ¬å–ç½‘é¡µé˜Ÿåˆ—<br>å¦‚ä½•å¯¹å¾…å¾…æŠ“å–é˜Ÿåˆ—ï¼Œè·Ÿæ“ä½œç³»ç»Ÿå¦‚ä½•è°ƒåº¦è¿›ç¨‹æ˜¯ç±»ä¼¼çš„åœºæ™¯ã€‚<br>ä¸åŒç½‘ç«™ï¼Œé‡è¦ç¨‹åº¦ä¸åŒï¼Œå› æ­¤ï¼Œå¯ä»¥è®¾è®¡ä¸€ä¸ªä¼˜å…ˆçº§é˜Ÿåˆ—æ¥å­˜æ”¾å¾…çˆ¬èµ·çš„ç½‘é¡µé“¾æ¥ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œæ¯æ¬¡æŠ“å–æ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼˜å…ˆçˆ¬å–é‡è¦çš„ç½‘é¡µã€‚<br>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æ•ˆä»¿æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹è°ƒåº¦ç­–ç•¥ä¹‹å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦ç®—æ³•ã€‚</p>
</li>
<li><p>DNSç¼“å­˜<br>ä¸ºäº†é¿å…æ¯æ¬¡éƒ½å‘èµ·DNSæŸ¥è¯¢ï¼Œæˆ‘ä»¬å¯ä»¥å°†DNSè¿›è¡Œç¼“å­˜ã€‚DNSç¼“å­˜å½“ç„¶æ˜¯è®¾è®¡ä¸€ä¸ªhashè¡¨æ¥å­˜å‚¨å·²æœ‰çš„åŸŸååŠå…¶IPã€‚</p>
</li>
<li><p>ç½‘é¡µå»é‡<br>è¯´åˆ°ç½‘é¡µå»é‡ï¼Œç¬¬ä¸€ä¸ªæƒ³åˆ°çš„æ˜¯åƒåœ¾é‚®ä»¶è¿‡æ»¤ã€‚åƒåœ¾é‚®ä»¶è¿‡æ»¤ä¸€ä¸ªç»å…¸çš„è§£å†³æ–¹æ¡ˆæ˜¯Bloom Filterï¼ˆå¸ƒéš†è¿‡æ»¤å™¨ï¼‰ã€‚å¸ƒéš†è¿‡æ»¤å™¨åŸç†ç®€å•æ¥è¯´å°±æ˜¯ï¼šå»ºç«‹ä¸€ä¸ªå¤§çš„ä½æ•°ç»„ï¼Œç„¶åç”¨å¤šä¸ªHashå‡½æ•°å¯¹åŒä¸€ä¸ªurlè¿›è¡Œhashå¾—åˆ°å¤šä¸ªæ•°å­—ï¼Œç„¶åå°†ä½æ•°ç»„ä¸­è¿™äº›æ•°å­—å¯¹åº”çš„ä½ç½®ä¸º1ã€‚ä¸‹æ¬¡å†æ¥ä¸€ä¸ªurlæ—¶ï¼ŒåŒæ ·æ˜¯ç”¨å¤šä¸ªHashå‡½æ•°è¿›è¡Œhashï¼Œå¾—åˆ°å¤šä¸ªæ•°å­—ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­ä½æ•°ç»„ä¸­è¿™äº›æ•°å­—å¯¹åº”çš„ä¸ºæ˜¯å…¨ä¸º1ï¼Œå¦‚æœå…¨ä¸º1ï¼Œé‚£ä¹ˆè¯´æ˜è¿™ä¸ªurlå·²ç»å‡ºç°è¿‡ã€‚å¦‚æ­¤ï¼Œä¾¿å®Œæˆäº†urlå»é‡çš„é—®é¢˜ã€‚å½“ç„¶ï¼Œè¿™ç§æ–¹æ³•ä¼šæœ‰è¯¯å·®ï¼Œåªè¦è¯¯å·®åœ¨æˆ‘ä»¬çš„å®¹å¿èŒƒå›´ä¹‹ç±»ï¼Œæ¯”å¦‚1ä¸‡ä¸ªç½‘é¡µï¼Œæˆ‘åªçˆ¬å–åˆ°äº†9999ä¸ªï¼Œå¹¶ä¸ä¼šæœ‰å¤ªå¤§çš„å®é™…å½±å“ã€‚<a href="http://itindex.net/detail/39767-url-%E7%9B%B8%E4%BC%BC-%E8%AE%A1%E7%AE%97" target="_blank" rel="external">urlç›¸ä¼¼åº¦è®¡ç®—</a></p>
</li>
<li><p>æ•°æ®å­˜å‚¨çš„é—®é¢˜<br>æ•°æ®å­˜å‚¨åŒæ ·æ˜¯ä¸ªå¾ˆæœ‰æŠ€æœ¯å«é‡çš„é—®é¢˜ã€‚ç”¨å…³ç³»æ•°æ®åº“å­˜å–è¿˜æ˜¯ç”¨NoSQLï¼ŒæŠ‘æˆ–æ˜¯è‡ªå·±è®¾è®¡ç‰¹å®šçš„æ–‡ä»¶æ ¼å¼è¿›è¡Œå­˜å‚¨ï¼Œéƒ½å¤§æœ‰æ–‡ç« å¯åšã€‚</p>
</li>
<li><p>è¿›ç¨‹é—´é€šä¿¡<br>åˆ†å¸ƒå¼çˆ¬è™«ï¼Œå°±å¿…ç„¶ç¦»ä¸å¼€è¿›ç¨‹é—´çš„é€šä¿¡ã€‚æˆ‘ä»¬å¯ä»¥ä»¥è§„å®šçš„æ•°æ®æ ¼å¼è¿›è¡Œæ•°æ®äº¤äº’ï¼Œå®Œæˆè¿›ç¨‹é—´é€šä¿¡ã€‚</p>
</li>
<li><p>åçˆ¬è™«æœºåˆ¶é—®é¢˜<br>é’ˆå¯¹åçˆ¬è™«æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è½®æ¢IPåœ°å€ã€è½®æ¢Cookieã€ä¿®æ”¹ç”¨æˆ·ä»£ç†(User Agent)ã€é™åˆ¶é€Ÿåº¦ã€é¿å…é‡å¤æ€§çˆ¬è¡Œæ¨¡å¼ç­‰æ–¹æ³•è§£å†³ã€‚</p>
</li>
</ol>
<p>å‚è€ƒé“¾æ¥:</p>
<blockquote>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzA3NDM1NjUwMQ==&amp;mid=2650486783&amp;idx=2&amp;sn=b022421936afb373f4a00f497396220d&amp;scene=0#wechat_redirect" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MzA3NDM1NjUwMQ==&amp;mid=2650486783&amp;idx=2&amp;sn=b022421936afb373f4a00f497396220d&amp;scene=0#wechat_redirect</a><br><a href="http://www.chinahadoop.cn/course/596/learn#lesson/11986" target="_blank" rel="external">http://www.chinahadoop.cn/course/596/learn#lesson/11986</a><br><a href="https://www.bittiger.io/blog/post/5pDTFcDwkmCvvmKys" target="_blank" rel="external">https://www.bittiger.io/blog/post/5pDTFcDwkmCvvmKys</a><br><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html" target="_blank" rel="external">https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html</a></p>
</blockquote>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>åšæŒåŸåˆ›æŠ€æœ¯åˆ†äº«ï¼Œæ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œï¼</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>èµ</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="http://7xu83c.com1.z0.glb.clouddn.com/1.pic.jpg" alt="å¾é˜¿è¡¡ WeChat Pay"/>
          <p>å¾®ä¿¡æ‰“èµ</p>
        </div>
      
      
    </div>
  </div>


      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Crawler/" rel="tag">#Crawler</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/06/01/gensim-doc2vecå®æˆ˜/" rel="next" title="gensim-doc2vecå®æˆ˜">
                <i class="fa fa-chevron-left"></i> gensim-doc2vecå®æˆ˜
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/06/12/çˆ¬è™«æ€»ç»“-äºŒ-scrapy/" rel="prev" title="çˆ¬è™«æ€»ç»“(äºŒ)-- scrapy">
                çˆ¬è™«æ€»ç»“(äºŒ)-- scrapy <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://7xu83c.com1.z0.glb.clouddn.com/2.pic.jpg"
               alt="å¾é˜¿è¡¡" />
          <p class="site-author-name" itemprop="name">å¾é˜¿è¡¡</p>
          <p class="site-description motion-element" itemprop="description">å®¿å‘½æ˜ŸåŠ¨</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">26</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Shuang0420" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.linkedin.com/in/shuang-xu-7008b894?trk=nav_responsive_tab_profile_pic" target="_blank" title="LinkedIn">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                  LinkedIn
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#çˆ¬è™«åŸºç¡€"><span class="nav-number">1.</span> <span class="nav-text">çˆ¬è™«åŸºç¡€</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ä»€ä¹ˆæ˜¯çˆ¬è™«"><span class="nav-number">1.1.</span> <span class="nav-text">ä»€ä¹ˆæ˜¯çˆ¬è™«</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#çˆ¬è™«ç±»å‹"><span class="nav-number">1.2.</span> <span class="nav-text">çˆ¬è™«ç±»å‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å·¥ä½œåŸç†"><span class="nav-number">1.3.</span> <span class="nav-text">å·¥ä½œåŸç†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#çˆ¬å–ç­–ç•¥"><span class="nav-number">1.4.</span> <span class="nav-text">çˆ¬å–ç­–ç•¥</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å¹¿åº¦ä¼˜å…ˆ"><span class="nav-number">1.4.1.</span> <span class="nav-text">å¹¿åº¦ä¼˜å…ˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æœ€ä½³ä¼˜å…ˆ"><span class="nav-number">1.4.2.</span> <span class="nav-text">æœ€ä½³ä¼˜å…ˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ·±åº¦ä¼˜å…ˆ"><span class="nav-number">1.4.3.</span> <span class="nav-text">æ·±åº¦ä¼˜å…ˆ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#URLï¼ˆ-Uniform-Resource-Locator-ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰"><span class="nav-number">1.5.</span> <span class="nav-text">URLï¼ˆ Uniform Resource Locator: ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Web-Serverï¼Socketå¦‚ä½•å»ºç«‹è¿æ¥å’Œä¼ è¾“æ•°æ®çš„"><span class="nav-number">1.6.</span> <span class="nav-text">Web Serverï¼Socketå¦‚ä½•å»ºç«‹è¿æ¥å’Œä¼ è¾“æ•°æ®çš„</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTML-DOM"><span class="nav-number">1.7.</span> <span class="nav-text">HTML DOM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Cookie"><span class="nav-number">1.8.</span> <span class="nav-text">Cookie</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP"><span class="nav-number">1.9.</span> <span class="nav-text">HTTP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Headers-è®¾ç½®"><span class="nav-number">1.9.1.</span> <span class="nav-text">Headers è®¾ç½®</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æœ€ç®€å•çš„çˆ¬è™«"><span class="nav-number">2.</span> <span class="nav-text">æœ€ç®€å•çš„çˆ¬è™«</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#requests-åº“"><span class="nav-number">2.1.</span> <span class="nav-text">requests åº“</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#urllib2-åº“"><span class="nav-number">2.2.</span> <span class="nav-text">urllib2 åº“</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å®ä¾‹ï¼šçˆ¬å–ç½‘æ˜“æ–°é—»"><span class="nav-number">3.</span> <span class="nav-text">å®ä¾‹ï¼šçˆ¬å–ç½‘æ˜“æ–°é—»</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ†æåˆå§‹é¡µé¢"><span class="nav-number">3.1.</span> <span class="nav-text">åˆ†æåˆå§‹é¡µé¢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ†æäºŒçº§é¡µé¢"><span class="nav-number">3.2.</span> <span class="nav-text">åˆ†æäºŒçº§é¡µé¢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ½œåœ¨é—®é¢˜"><span class="nav-number">3.3.</span> <span class="nav-text">æ½œåœ¨é—®é¢˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¼˜åŒ–æ–¹æ¡ˆ"><span class="nav-number">3.4.</span> <span class="nav-text">ä¼˜åŒ–æ–¹æ¡ˆ</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">å¾é˜¿è¡¡</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'httpshuang0420githubio';
      var disqus_identifier = '2016/06/11/çˆ¬è™«æ€»ç»“ï¼ˆä¸€ï¼‰/';
      var disqus_title = "çˆ¬è™«æ€»ç»“ï¼ˆä¸€ï¼‰";
      var disqus_url = 'http://yoursite.com/2016/06/11/çˆ¬è™«æ€»ç»“ï¼ˆä¸€ï¼‰/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  




  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';                
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });
                            
                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').mousedown(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>

  

  

  

</body>
</html>
