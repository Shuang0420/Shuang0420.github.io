<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="å¾é˜¿è¡¡" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="å®¿å‘½æ˜ŸåŠ¨">
<meta property="og:type" content="website">
<meta property="og:title" content="å¾é˜¿è¡¡">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="å¾é˜¿è¡¡">
<meta property="og:description" content="å®¿å‘½æ˜ŸåŠ¨">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å¾é˜¿è¡¡">
<meta name="twitter:description" content="å®¿å‘½æ˜ŸåŠ¨">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 6294135991397516000,
      author: 'é˜¿è¡¡'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/page/2/"/>

  <title> å¾é˜¿è¡¡ </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">å¾é˜¿è¡¡</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Shuang</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/25/GibbsLDA-A-C-C-ä½¿ç”¨å¿ƒå¾—/" itemprop="url">
                  GibbsLDA++: A C/C++ ä½¿ç”¨å¿ƒå¾—
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-05-25T12:20:35+08:00" content="2016-05-25">
              2016-05-25
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/25/GibbsLDA-A-C-C-ä½¿ç”¨å¿ƒå¾—/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/05/25/GibbsLDA-A-C-C-ä½¿ç”¨å¿ƒå¾—/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/22/åœ¨cé‡Œè°ƒç”¨python/" itemprop="url">
                  åœ¨cé‡Œè°ƒç”¨python
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-05-22T16:55:07+08:00" content="2016-05-22">
              2016-05-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Programming-language/" itemprop="url" rel="index">
                    <span itemprop="name">Programming language</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/22/åœ¨cé‡Œè°ƒç”¨python/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/05/22/åœ¨cé‡Œè°ƒç”¨python/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è¿™ä¸€ä¸ªä¾‹å­æ˜¯cè°ƒç”¨äº†pythonçš„å‡½æ•°ï¼Œå‡½æ•°è¿”å›å€¼æ˜¯listï¼ŒåŒ…å«äº†100ä¸ªfloatå€¼ã€‚</p>
<pre>
#include <python2.7 python.h="">
#include <stdio.h>
#include <stdlib.h>
void test1(){
  Py_Initialize();//åˆå§‹åŒ–python
  char *test = "å¥–åŠ±";
  PyObject * pModule = NULL;
  PyObject * pModule1 = NULL;
  PyObject * pFunc = NULL;
  PyObject * pArg    = NULL;
  PyObject * result;
  pModule = PyImport_ImportModule("inferSingleDocVec");//å¼•å…¥æ¨¡å—
  pFunc = PyObject_GetAttrString(pModule, "getDocVec");//ç›´æ¥è·å–æ¨¡å—ä¸­çš„å‡½æ•°
  pArg= Py_BuildValue("(s)", test);
  result = PyEval_CallObject(pFunc, pArg); //è°ƒç”¨ç›´æ¥è·å¾—çš„å‡½æ•°ï¼Œå¹¶ä¼ é€’å‚æ•°ï¼›è¿™é‡Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ªlist
  <code>for (int i = 0; i < PyList_Size(result); i++) {</code>
    printf("%f\t", PyFloat_AsDouble(PyList_GetItem(result, (Py_ssize_t)i)));//æ‰“å°æ¯ä¸€ä¸ªå…ƒç´ 
  }
  //ä¸‹é¢ä»£ç é€‚ç”¨äºè¿”å›å€¼ä¸ºå­—ç¬¦ä¸²çš„æƒ…å†µ
  //char* s=NULL;
  //PyArg_Parse(result, "s", &s);
  //for (int i=0;s[i]!='\0';i++){
   // printf("%c",s[i]);
 // }
  Py_Finalize(); //é‡Šæ”¾python
//  return;
}
int main(int argc, char* argv[])
{
    test1();
    return 0;
}
</stdlib.h></stdio.h></python2.7></pre>

<p>ç¼–è¯‘è¿è¡Œ</p>
<pre>
$ gcc -I/usr/local/lib/python2.7.11 -o inferDocVec inferDocVec.c -lpython2.7
$ ./inferDocVec
</pre>

<p>è°ƒç”¨çš„inferSingleDocVecæ–‡ä»¶</p>
<pre>
#!/usr/bin/python
# -*- coding: utf-8 -*-
### for infer
import sys
reload(sys)
sys.setdefaultencoding('utf8')
import gensim, logging
from gensim.models import Doc2Vec
import os
import jieba
import multiprocessing
import numpy as np
import base64
logging.basicConfig(format='%(asctime)s : %(levelname)s : %(message)s', level=logging.INFO)

def getDocVec(doc_words):
    docwords=[word for word in jieba.cut(doc_words, cut_all = False)]
    model = Doc2Vec.load('all_model_v2.txt')
    invec = model.infer_vector(docwords, alpha=0.1, min_alpha=0.0001, steps=5)
    return (list)(invec)
</pre>

<p>å…³äºå¦‚ä½•å°†pythonæ–‡ä»¶è½¬ä¸ºæ¨¡å—ï¼Œè¯¦è§ä¹‹å‰çš„ä¸€ç¯‡åšæ–‡<a href="https://github.com/Shuang0420/Shuang0420.github.io/wiki/python----%E5%B0%86%E8%87%AA%E5%B7%B1%E5%86%99%E7%9A%84py%E6%96%87%E4%BB%B6%E4%BD%9C%E4%B8%BA%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5" target="_blank" rel="external">python å°†è‡ªå·±å†™çš„pyæ–‡ä»¶ä½œä¸ºæ¨¡å—å¯¼å…¥</a></p>
<blockquote>
<p>å‚è€ƒé“¾æ¥</p>
<blockquote>
<p><a href="https://www.daniweb.com/programming/software-development/threads/237529/what-does-pyarg_parse-do-in-detail" target="_blank" rel="external">https://www.daniweb.com/programming/software-development/threads/237529/what-does-pyarg_parse-do-in-detail</a></p>
<p><a href="http://stackoverflow.com/questions/5079570/writing-a-python-c-extension-how-to-correctly-load-a-pylistobject" target="_blank" rel="external">http://stackoverflow.com/questions/5079570/writing-a-python-c-extension-how-to-correctly-load-a-pylistobject</a></p>
</blockquote>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/19/APèšç±»/" itemprop="url">
                  APèšç±»
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-05-19T21:42:04+08:00" content="2016-05-19">
              2016-05-19
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/19/APèšç±»/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/05/19/APèšç±»/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>APç®—æ³•çš„å…·ä½“å·¥ä½œè¿‡ç¨‹å¦‚ä¸‹ï¼šå…ˆè®¡ç®—Nä¸ªç‚¹ä¹‹é—´çš„ç›¸ä¼¼åº¦å€¼ï¼Œå°†å€¼æ”¾åœ¨SçŸ©é˜µä¸­ï¼Œå†é€‰å–På€¼(ä¸€èˆ¬å–Sçš„ä¸­å€¼)ã€‚è®¾ç½®ä¸€ä¸ªæœ€å¤§è¿­ä»£æ¬¡æ•°(æ–‡ä¸­è®¾é»˜è®¤å€¼ä¸º1000)ï¼Œè¿­ä»£è¿‡ç¨‹å¼€å§‹åï¼Œè®¡ç®—æ¯ä¸€æ¬¡çš„Rå€¼å’ŒAå€¼ï¼Œæ ¹æ®R(k,k)+A(k,k)å€¼æ¥åˆ¤æ–­æ˜¯å¦ä¸ºèšç±»ä¸­å¿ƒ(æ–‡ä¸­æŒ‡å®šå½“(R(k,k)+A(k,k))ï¼0æ—¶è®¤ä¸ºæ˜¯ä¸€ä¸ªèšç±»ä¸­å¿ƒ)ï¼Œå½“è¿­ä»£æ¬¡æ•°è¶…è¿‡æœ€å¤§å€¼( å³maxitså€¼)æˆ–è€…å½“èšç±»ä¸­å¿ƒè¿ç»­å¤šå°‘æ¬¡è¿­ä»£ä¸å‘ç”Ÿæ”¹å˜( å³convitså€¼)æ—¶ç»ˆæ­¢è®¡ç®—(æ–‡ä¸­è®¾å®šè¿ç»­50æ¬¡è¿­ä»£è¿‡ç¨‹ä¸å‘ç”Ÿæ”¹å˜æ˜¯ç»ˆæ­¢è®¡ç®—)ã€‚</p>
<p>Affinity Propagation (AP) èšç±»æ˜¯æœ€è¿‘åœ¨Scienceæ‚å¿—ä¸Šæå‡ºçš„ä¸€ç§æ–°çš„èšç±»ç®—æ³•ã€‚å®ƒæ ¹æ®Nä¸ªæ•°æ®ç‚¹ä¹‹é—´çš„ç›¸ä¼¼åº¦è¿›è¡Œèšç±»,è¿™äº›ç›¸ä¼¼åº¦å¯ä»¥æ˜¯å¯¹ç§°çš„,å³ä¸¤ä¸ªæ•°æ®ç‚¹äº’ç›¸ä¹‹é—´çš„ç›¸ä¼¼åº¦ä¸€æ ·(å¦‚æ¬§æ°è·ç¦»);ä¹Ÿå¯ä»¥æ˜¯ä¸å¯¹ç§°çš„,å³ä¸¤ä¸ªæ•°æ®ç‚¹äº’ç›¸ä¹‹é—´çš„ç›¸ä¼¼åº¦ä¸ç­‰ã€‚è¿™äº›ç›¸ä¼¼åº¦ç»„æˆNÃ—Nçš„ç›¸ä¼¼åº¦çŸ©é˜µS(å…¶ä¸­Nä¸ºæœ‰Nä¸ªæ•°æ®ç‚¹)ã€‚APç®—æ³•ä¸éœ€è¦äº‹å…ˆæŒ‡å®šèšç±»æ•°ç›®,ç›¸åå®ƒå°†æ‰€æœ‰çš„æ•°æ®ç‚¹éƒ½ä½œä¸ºæ½œåœ¨çš„èšç±»ä¸­å¿ƒ,ç§°ä¹‹ä¸ºexemplarã€‚ä»¥SçŸ©é˜µçš„å¯¹è§’çº¿ä¸Šçš„æ•°å€¼s(k, k)ä½œä¸ºkç‚¹èƒ½å¦æˆä¸ºèšç±»ä¸­å¿ƒçš„è¯„åˆ¤æ ‡å‡†,è¿™æ„å‘³ç€è¯¥å€¼è¶Šå¤§,è¿™ä¸ªç‚¹æˆä¸ºèšç±»ä¸­å¿ƒçš„å¯èƒ½æ€§ä¹Ÿå°±è¶Šå¤§,è¿™ä¸ªå€¼åˆç§°ä½œå‚è€ƒåº¦p (preference)ã€‚<br>åœ¨è¿™é‡Œä»‹ç»å‡ ä¸ªæ–‡ä¸­å¸¸å‡ºç°çš„åè¯ï¼š<br>exemplarï¼šæŒ‡çš„æ˜¯èšç±»ä¸­å¿ƒã€‚<br>similarityï¼šæ•°æ®ç‚¹iå’Œç‚¹jçš„ç›¸ä¼¼åº¦è®°ä¸ºS(iï¼Œj)ã€‚æ˜¯æŒ‡ç‚¹jä½œä¸ºç‚¹içš„èšç±»ä¸­å¿ƒçš„ç›¸ä¼¼åº¦ã€‚ä¸€èˆ¬ä½¿ç”¨æ¬§æ°è·ç¦»æ¥è®¡ç®—ï¼Œå¦‚ï¼|| ||ã€‚æ–‡ä¸­ï¼Œæ‰€æœ‰ç‚¹ä¸ç‚¹çš„ç›¸ä¼¼åº¦å€¼å…¨éƒ¨å–ä¸ºè´Ÿå€¼ã€‚å› ä¸ºæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç›¸ä¼¼åº¦å€¼è¶Šå¤§è¯´æ˜ç‚¹ä¸ç‚¹çš„è·ç¦»è¶Šè¿‘ï¼Œä¾¿äºåé¢çš„æ¯”è¾ƒè®¡ç®—ã€‚<br>preferenceï¼šæ•°æ®ç‚¹içš„å‚è€ƒåº¦ç§°ä¸ºP(i)æˆ–S(i,i)ã€‚æ˜¯æŒ‡ç‚¹iä½œä¸ºèšç±»ä¸­å¿ƒçš„å‚è€ƒåº¦ã€‚ä¸€èˆ¬å–Sç›¸ä¼¼åº¦å€¼çš„ä¸­å€¼ã€‚<br>Responsibility:R(i,k)ç”¨æ¥æè¿°ç‚¹ké€‚åˆä½œä¸ºæ•°æ®ç‚¹içš„èšç±»ä¸­å¿ƒçš„ç¨‹åº¦ã€‚<br>Availability:A(i,k)ç”¨æ¥æè¿°ç‚¹ié€‰æ‹©ç‚¹kä½œä¸ºå…¶èšç±»ä¸­å¿ƒçš„é€‚åˆç¨‹åº¦ã€‚</p>
<p>Script output:<br>Estimated number of clusters: 3<br>Homogeneity: 0.872<br>Completeness: 0.872<br>V-measure: 0.872<br>Adjusted Rand Index: 0.912<br>Adjusted Mutual Information: 0.871<br>Silhouette Coefficient: 0.753</p>
<p>Python source code: plot_affinity_propagation.py<br>print(<strong>doc</strong>)</p>
<p>from sklearn.cluster import AffinityPropagation<br>from sklearn import metrics<br>from sklearn.datasets.samples_generator import make_blobs</p>
<p>##############################################################################</p>
<h1 id="Generate-sample-data"><a href="#Generate-sample-data" class="headerlink" title="Generate sample data"></a>Generate sample data</h1><p>centers = [[1, 1], [-1, -1], [1, -1]]<br>X, labels_true = make_blobs(n_samples=300, centers=centers, cluster_std=0.5,<br>                            random_state=0)</p>
<p>##############################################################################</p>
<h1 id="Compute-Affinity-Propagation"><a href="#Compute-Affinity-Propagation" class="headerlink" title="Compute Affinity Propagation"></a>Compute Affinity Propagation</h1><p>af = AffinityPropagation(preference=-50).fit(X)<br>cluster_centers_indices = af.cluster_centers<em>indices</em><br>labels = af.labels_</p>
<p>n<em>clusters</em> = len(cluster_centers_indices)</p>
<p>print(â€˜Estimated number of clusters: %dâ€™ % n<em>clusters</em>)<br>print(â€œHomogeneity: %0.3fâ€ % metrics.homogeneity_score(labels_true, labels))<br>print(â€œCompleteness: %0.3fâ€ % metrics.completeness_score(labels_true, labels))<br>print(â€œV-measure: %0.3fâ€ % metrics.v_measure_score(labels_true, labels))<br>print(â€œAdjusted Rand Index: %0.3fâ€<br>      % metrics.adjusted_rand_score(labels_true, labels))<br>print(â€œAdjusted Mutual Information: %0.3fâ€<br>      % metrics.adjusted_mutual_info_score(labels_true, labels))<br>print(â€œSilhouette Coefficient: %0.3fâ€<br>      % metrics.silhouette_score(X, labels, metric=â€™sqeuclideanâ€™))</p>
<p>##############################################################################</p>
<h1 id="Plot-result"><a href="#Plot-result" class="headerlink" title="Plot result"></a>Plot result</h1><p>import matplotlib.pyplot as plt<br>from itertools import cycle</p>
<p>plt.close(â€˜allâ€™)<br>plt.figure(1)<br>plt.clf()</p>
<p>colors = cycle(â€˜bgrcmykbgrcmykbgrcmykbgrcmykâ€™)<br>for k, col in zip(range(n<em>clusters</em>), colors):<br>    class_members = labels == k<br>    cluster_center = X[cluster_centers_indices[k]]<br>    plt.plot(X[class_members, 0], X[class_members, 1], col + â€˜.â€™)<br>    plt.plot(cluster_center[0], cluster_center[1], â€˜oâ€™, markerfacecolor=col,<br>             markeredgecolor=â€™kâ€™, markersize=14)<br>    for x in X[class_members]:<br>        plt.plot([cluster_center[0], x[0]], [cluster_center[1], x[1]], col)</p>
<p>plt.title(â€˜Estimated number of clusters: %dâ€™ % n<em>clusters</em>)<br>plt.show()</p>
<blockquote>
<p>å‚è€ƒé“¾æ¥<br><a href="http://scikit-learn.org/stable/modules/clustering.html" target="_blank" rel="external">http://scikit-learn.org/stable/modules/clustering.html</a><br><a href="http://blog.csdn.net/u010695420/article/details/42239465" target="_blank" rel="external">http://blog.csdn.net/u010695420/article/details/42239465</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/19/LDAéªŒè¯/" itemprop="url">
                  LDAéªŒè¯
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-05-19T21:14:42+08:00" content="2016-05-19">
              2016-05-19
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/19/LDAéªŒè¯/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/05/19/LDAéªŒè¯/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/18/Gensim-and-LDA-Training-and-Prediction/" itemprop="url">
                  Gensim and LDA--Training and Prediction
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-05-18T20:46:16+08:00" content="2016-05-18">
              2016-05-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/machine-learning/" itemprop="url" rel="index">
                    <span itemprop="name">machine learning</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/18/Gensim-and-LDA-Training-and-Prediction/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/05/18/Gensim-and-LDA-Training-and-Prediction/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre>
# install the related python packages
>>> pip install numpy
>>> pip install scipy
>>> pip install gensim
>>> pip install jieba

from gensim import corpora, models, similarities
import logging
import jieba

# configuration
logging.basicConfig(format='%(asctime)s : %(levelname)s : %(message)s', level=logging.INFO)

# load data from file
f = open('newfile.txt', 'r')
documents = f.readlines()

ï¼ƒ tokenize
texts = [[word for word in jieba.cut(document, cut_all = False)] for document in documents]

# load id->word mapping (the dictionary)
dictionary = corpora.Dictionary(texts)

# word must appear >10 times, and no more than 40% documents
dictionary.filter_extremes(no_below=40, no_above=0.1)

# save dictionary
dictionary.save('dict_v1.dict')

# load corpus
corpus = [dictionary.doc2bow(text) for text in texts]

# initialize a model
tfidf = models.TfidfModel(corpus)

# use the model to transform vectors, apply a transformation to a whole corpus
corpus_tfidf = tfidf[corpus]

# extract 100 LDA topics, using 1 pass and updating once every 1 chunk (10,000 documents), using 500 iterations
lda = models.LdaModel(corpus_tfidf, id2word=dictionary, num_topics=100, iterations=500)

# save model to files
lda.save('mylda_v1.pkl')

# print topics composition, and their scores, for the first document. You will see that only few topics are represented; the others have a nil score.
for index, score in sorted(lda[corpus_tfidf[0]], key=lambda tup: -1*tup[1]):
    print "Score: {}\t Topic: {}".format(score, lda.print_topic(index, 10))

# print the most contributing words for 100 randomly selected topics
lda.print_topics(100)

# load model and dictionary
model = models.LdaModel.load('mylda_v1.pkl')
dictionary = corpora.Dictionary.load('dict_v1.dict')

# predict unseen data
query = "æœªæ”¶åˆ°å¥–åŠ±"
query_bow = dictionary.doc2bow(jieba.cut(query, cut_all = False))
for index, score in sorted(model[query_bow], key=lambda tup: -1*tup[1]):
    print "Score: {}\t Topic: {}".format(score, model.print_topic(index, 20))

# if you want to predict many lines of data in a file, do the followings
f = open('newfile.txt', 'r')
documents = f.readlines()
texts = [[word for word in jieba.cut(document, cut_all = False)] for document in documents]
corpus = [dictionary.doc2bow(text) for text in texts]

# only print the topic with the highest score
for c in corpus:
    flag = True
    for index, score in sorted(model[c], key=lambda tup: -1*tup[1]):
        if flag:
            print "Score: {}\t Topic: {}".format(score, model.print_topic(index, 20))</pre>

<h1 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h1><p>If you occur encoding problems, you can try the following code</p>
<pre>
add it at the beginning of your python file
# -*- coding: utf-8 -*-

# also, do the followings
import sys
reload(sys)
sys.setdefaultencoding('utf-8')

# the following code may lead to encoding problem when there're Chinese characters
model.show_topics(-1, 5)

# use this instead
model.print_topics(-1, 5)</pre>


<p>You can see step-by-step output by the following references.</p>
<blockquote>
<p>References:</p>
<blockquote>
<p><a href="https://radimrehurek.com/gensim/tut2.html" target="_blank" rel="external">https://radimrehurek.com/gensim/tut2.html</a> official guide (en)</p>
<p><a href="http://blog.csdn.net/questionfish/article/details/46725475" target="_blank" rel="external">http://blog.csdn.net/questionfish/article/details/46725475</a>  official guide (ch)</p>
<p><a href="https://radimrehurek.com/gensim/wiki.html#latent-dirichlet-allocation" target="_blank" rel="external">https://radimrehurek.com/gensim/wiki.html#latent-dirichlet-allocation</a></p>
</blockquote>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/18/Gensim-ç”¨Pythonåšä¸»é¢˜æ¨¡å‹/" itemprop="url">
                  Gensim-ç”¨Pythonåšä¸»é¢˜æ¨¡å‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-05-18T10:22:31+08:00" content="2016-05-18">
              2016-05-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/machine-learning/" itemprop="url" rel="index">
                    <span itemprop="name">machine learning</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/18/Gensim-ç”¨Pythonåšä¸»é¢˜æ¨¡å‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/05/18/Gensim-ç”¨Pythonåšä¸»é¢˜æ¨¡å‹/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="gensim-ä»‹ç»"><a href="#gensim-ä»‹ç»" class="headerlink" title="gensim ä»‹ç»"></a>gensim ä»‹ç»</h3><p>gemsimæ˜¯ä¸€ä¸ªå…è´¹pythonåº“ï¼Œèƒ½å¤Ÿä»æ–‡æ¡£ä¸­æœ‰æ•ˆåœ°è‡ªåŠ¨æŠ½å–è¯­ä¹‰ä¸»é¢˜ã€‚gensimä¸­çš„ç®—æ³•åŒ…æ‹¬ï¼šLSA(Latent Semantic Analysis), LDA(Latent Dirichlet Allocation), RP (Random Projections), é€šè¿‡åœ¨ä¸€ä¸ªè®­ç»ƒæ–‡æ¡£è¯­æ–™åº“ä¸­ï¼Œæ£€æŸ¥è¯æ±‡ç»Ÿè®¡è”åˆå‡ºç°æ¨¡å¼, å¯ä»¥ç”¨æ¥å‘æ˜æ–‡æ¡£è¯­ä¹‰ç»“æ„ï¼Œè¿™äº›ç®—æ³•å±äºéç›‘ç£å­¦ä¹ ï¼Œå¯ä»¥å¤„ç†åŸå§‹çš„ï¼Œéç»“æ„åŒ–çš„æ–‡æœ¬ï¼ˆâ€plain textâ€ï¼‰ã€‚</p>
<h3 id="gensim-çš„ç‰¹æ€§"><a href="#gensim-çš„ç‰¹æ€§" class="headerlink" title="gensim çš„ç‰¹æ€§"></a>gensim çš„ç‰¹æ€§</h3><ul>
<li>å†…å­˜ç‹¬ç«‹- å¯¹äºè®­ç»ƒè¯­æ–™æ¥è¯´ï¼Œæ²¡å¿…è¦åœ¨ä»»ä½•æ—¶é—´å°†æ•´ä¸ªè¯­æ–™éƒ½é©»ç•™åœ¨RAMä¸­</li>
<li>æœ‰æ•ˆå®ç°äº†è®¸å¤šæµè¡Œçš„å‘é‡ç©ºé—´ç®—æ³•ï¼åŒ…æ‹¬tf-idfï¼Œåˆ†å¸ƒå¼LSA, åˆ†å¸ƒå¼LDA ä»¥åŠ RPï¼›å¹¶ä¸”å¾ˆå®¹æ˜“æ·»åŠ æ–°ç®—æ³•</li>
<li>å¯¹æµè¡Œçš„æ•°æ®æ ¼å¼è¿›è¡Œäº†IOå°è£…å’Œè½¬æ¢</li>
<li>åœ¨å…¶è¯­ä¹‰è¡¨è¾¾ä¸­ï¼Œå¯ä»¥ç›¸ä¼¼æŸ¥è¯¢</li>
<li>gensimçš„åˆ›å»ºçš„ç›®çš„æ˜¯ï¼Œç”±äºç¼ºä¹ç®€å•çš„ï¼ˆjavaå¾ˆå¤æ‚ï¼‰å®ç°ä¸»é¢˜å»ºæ¨¡çš„å¯æ‰©å±•è½¯ä»¶æ¡†æ¶.</li>
</ul>
<h3 id="gensim-çš„è®¾è®¡åŸåˆ™"><a href="#gensim-çš„è®¾è®¡åŸåˆ™" class="headerlink" title="gensim çš„è®¾è®¡åŸåˆ™"></a>gensim çš„è®¾è®¡åŸåˆ™</h3><ul>
<li>ç®€å•çš„æ¥å£ï¼Œå­¦ä¹ æ›²çº¿ä½ã€‚å¯¹äºåŸå‹å®ç°å¾ˆæ–¹ä¾¿</li>
<li>æ ¹æ®è¾“å…¥çš„è¯­æ–™çš„sizeæ¥è¯´ï¼Œå†…å­˜å„è‡ªç‹¬ç«‹ï¼›åŸºäºæµçš„ç®—æ³•æ“ä½œï¼Œä¸€æ¬¡è®¿é—®ä¸€ä¸ªæ–‡æ¡£.</li>
</ul>
<h3 id="gensim-çš„æ ¸å¿ƒæ¦‚å¿µ"><a href="#gensim-çš„æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="gensim çš„æ ¸å¿ƒæ¦‚å¿µ"></a>gensim çš„æ ¸å¿ƒæ¦‚å¿µ</h3><p>gensimçš„æ•´ä¸ªpackageä¼šæ¶‰åŠä¸‰ä¸ªæ¦‚å¿µï¼šcorpus, vector, model.</p>
<ul>
<li>è¯­åº“(corpus)<br>æ–‡æ¡£é›†åˆï¼Œç”¨äºè‡ªåŠ¨æ¨å‡ºæ–‡æ¡£ç»“æ„ï¼Œä»¥åŠå®ƒä»¬çš„ä¸»é¢˜ç­‰ï¼Œä¹Ÿå¯ç§°ä½œè®­ç»ƒè¯­æ–™ã€‚</li>
</ul>
<ul>
<li><p>å‘é‡(vector)</p>
<p>åœ¨å‘é‡ç©ºé—´æ¨¡å‹(VSM)ä¸­ï¼Œæ¯ä¸ªæ–‡æ¡£è¢«è¡¨ç¤ºæˆä¸€ä¸ªç‰¹å¾æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå•ä¸€ç‰¹å¾å¯ä»¥è¢«è¡¨ç¤ºæˆä¸€ä¸ªé—®ç­”å¯¹(question-answer pair):</p>
<p>[1].åœ¨æ–‡æ¡£ä¸­å•è¯â€splongeâ€å‡ºç°çš„æ¬¡æ•°ï¼Ÿ 0ä¸ª<br>[2].æ–‡æ¡£ä¸­åŒ…å«äº†å¤šå°‘å¥å­ï¼Ÿ 2ä¸ª<br>[3].æ–‡æ¡£ä¸­ä½¿ç”¨äº†å¤šå°‘å­—ä½“? 5ç§<br>è¿™é‡Œçš„é—®é¢˜å¯ä»¥è¡¨ç¤ºæˆæ•´å‹id (æ¯”å¦‚ï¼š1,2,3ç­‰), å› æ­¤ï¼Œä¸Šé¢çš„æ–‡æ¡£å¯ä»¥è¡¨ç¤ºæˆï¼š(1, 0.0), (2, 2.0), (3, 5.0). å¦‚æœæˆ‘ä»¬äº‹å…ˆçŸ¥é“æ‰€æœ‰çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾å¼åœ°å†™æˆè¿™æ ·ï¼š(0.0, 2.0, 5.0). è¿™ä¸ªansweråºåˆ—å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå¤šç»´çŸ©é˜µï¼ˆ3ç»´ï¼‰. å¯¹äºå®é™…ç›®çš„ï¼Œåªæœ‰questionå¯¹åº”çš„answeræ˜¯ä¸€ä¸ªå®æ•°.</p>
<p>å¯¹äºæ¯ä¸ªæ–‡æ¡£æ¥è¯´ï¼Œansweræ˜¯ç±»ä¼¼çš„. å› è€Œï¼Œå¯¹äºä¸¤ä¸ªå‘é‡æ¥è¯´ï¼ˆåˆ†åˆ«è¡¨ç¤ºä¸¤ä¸ªæ–‡æ¡£ï¼‰ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥ä¸‹ç±»ä¼¼çš„ç»“è®ºï¼šâ€œå¦‚æœä¸¤ä¸ªå‘é‡ä¸­çš„å®æ•°æ˜¯ç›¸ä¼¼çš„ï¼Œé‚£ä¹ˆï¼ŒåŸå§‹çš„æ–‡æ¡£ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ç›¸ä¼¼çš„â€ã€‚å½“ç„¶ï¼Œè¿™æ ·çš„ç»“è®ºä¾èµ–äºæˆ‘ä»¬å¦‚ä½•å»é€‰å–æˆ‘ä»¬çš„questionã€‚</p>
</li>
</ul>
<ul>
<li><p>ç¨€ç–çŸ©é˜µ(Sparse vector)</p>
<p>é€šå¸¸ï¼Œå¤§å¤šæ•°answerçš„å€¼éƒ½æ˜¯0.0. ä¸ºäº†èŠ‚çœç©ºé—´ï¼Œæˆ‘ä»¬éœ€è¦ä»æ–‡æ¡£è¡¨ç¤ºä¸­å¿½ç•¥å®ƒä»¬ï¼Œåªéœ€è¦å†™ï¼š(2, 2.0), (3, 5.0) å³å¯(æ³¨æ„ï¼šè¿™é‡Œå¿½ç•¥äº†(1, 0.0)). ç”±äºæ‰€æœ‰çš„é—®é¢˜é›†äº‹å…ˆéƒ½çŸ¥é“ï¼Œé‚£ä¹ˆåœ¨ç¨€ç–çŸ©é˜µçš„æ–‡æ¡£è¡¨ç¤ºä¸­æ‰€æœ‰ç¼ºå¤±çš„ç‰¹æ€§å¯ä»¥è®¤ä¸ºéƒ½æ˜¯0.0.</p>
<p>gensimçš„ç‰¹åˆ«ä¹‹å¤„åœ¨äºï¼Œå®ƒæ²¡æœ‰é™å®šä»»ä½•ç‰¹å®šçš„è¯­æ–™æ ¼å¼ï¼›è¯­æ–™å¯ä»¥æ˜¯ä»»ä½•æ ¼å¼ï¼Œå½“è¿­ä»£æ—¶ï¼Œé€šè¿‡ç¨€ç–çŸ©é˜µæ¥å®Œæˆå³å¯ã€‚ä¾‹å¦‚ï¼Œé›†åˆ ([(2, 2.0), (3, 5.0)], ([0, -1.0], [3, -1.0])) æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæ–‡æ¡£çš„è¯­æ–™ï¼Œæ¯ä¸ªéƒ½æœ‰ä¸¤ä¸ªéé›¶çš„ pairã€‚</p>
</li>
</ul>
<ul>
<li><p>æ¨¡å‹(model)</p>
<p>å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œä¸€ä¸ªæ¨¡å‹å°±æ˜¯ä¸€ä¸ªå˜æ¢(transformation)ï¼Œå°†ä¸€ç§æ–‡æ¡£è¡¨ç¤ºè½¬æ¢æˆå¦ä¸€ç§ã€‚åˆå§‹å’Œç›®æ ‡è¡¨ç¤ºéƒ½æ˜¯å‘é‡ï¼ï¼å®ƒä»¬åªåœ¨questionå’Œanswerä¹‹é—´æœ‰åŒºåˆ«ã€‚è¿™ä¸ªå˜æ¢å¯ä»¥é€šè¿‡è®­ç»ƒçš„è¯­æ–™è¿›è¡Œè‡ªåŠ¨å­¦ä¹ ï¼Œæ— éœ€äººå·¥ç›‘ç£ï¼Œæœ€ç»ˆçš„æ–‡æ¡£è¡¨ç¤ºå°†æ›´åŠ ç´§å‡‘å’Œæœ‰ç”¨ï¼›ç›¸ä¼¼çš„æ–‡æ¡£å…·æœ‰ç›¸ä¼¼çš„è¡¨ç¤ºã€‚</p>
</li>
</ul>
<h3 id="æ¼”ç¤ºä»£ç "><a href="#æ¼”ç¤ºä»£ç " class="headerlink" title="æ¼”ç¤ºä»£ç "></a>æ¼”ç¤ºä»£ç </h3><p><a href="http://shuang0420.github.io/2016/05/18/Gensim-and-LDA-Training-and-Prediction/" target="_blank" rel="external">æ¼”ç¤ºä»£ç </a></p>
<blockquote>
<p>å‚è€ƒé“¾æ¥</p>
<blockquote>
<p><a href="http://d0evi1.github.io/gensim/" target="_blank" rel="external">http://d0evi1.github.io/gensim/</a></p>
</blockquote>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/16/JGibbLDAå®æˆ˜/" itemprop="url">
                  JGibbLDAå®æˆ˜
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-05-16T20:50:23+08:00" content="2016-05-16">
              2016-05-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/machine-learning/" itemprop="url" rel="index">
                    <span itemprop="name">machine learning</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/16/JGibbLDAå®æˆ˜/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/05/16/JGibbLDAå®æˆ˜/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å°è¯•äº†ä¸‹JGibbLDAï¼Œå‘ç°æŒ‰å®˜æ–¹æ•™ç¨‹ç”¨ä»¥ä¸‹å‘½ä»¤ç›´æ¥è¿è¡ŒjaråŒ…ä¼šå‡ºç°é”™è¯¯ã€‚<br>å‘½ä»¤ï¼š</p>
<pre>java -mx512M -cp bin:lib/args4j-2.0.6.jar jgibblda.LDA -est -alpha 0.5 -beta 0.1 -ntopics 100 -niters 1000 -savestep 100 -twords 20 -dfile models/casestudy/newdocs.dat</pre>

<p>é”™è¯¯ä¿¡æ¯ï¼š</p>
<p><img src="http://7xu83c.com1.z0.glb.clouddn.com/err.png" alt=""></p>
<p>äºæ˜¯å°è¯•å¯¼å…¥eclipseè¿è¡Œæ‰‹åŠ¨é…ç½®ï¼ŒæˆåŠŸï¼Œè¿‡ç¨‹å¦‚ä¸‹ã€‚</p>
<ol>
<li><p>ä¸‹è½½JGibbLDAçš„jaråŒ…å¹¶è§£å‹ï¼›<br>ç½‘å€ï¼š<a href="http://jgibblda.sourceforge.net/#Griffiths04" target="_blank" rel="external">http://jgibblda.sourceforge.net/#Griffiths04</a></p>
</li>
<li><p>å¯¼å…¥eclipseï¼Œç¡®ä¿jaråŒ…åœ¨ç›®å½•ä¸­</p>
</li>
<li><p>æ‰¾åˆ°LDACmdOption.javaæ–‡ä»¶ï¼Œ ä¿®æ”¹éƒ¨åˆ†ä»£ç </p>
<pre> @Option(name="-dir", usage="Specify directory")
 public String dir = "models/casestudy-en";

 @Option(name="-dfile", usage="Specify data file")
 public String dfile = "models/casestudy-en/newdocs.dat";</pre>

<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œdfileçš„æ ¼å¼å¿…é¡»æ˜¯ğŸ‘‡è¿™ä¸ªæ ·å­ï¼š</p>
<pre>[M]
[document1]
[document2]
...
[documentM]</pre>

<p>ç¬¬ä¸€è¡Œ[M]æ˜¯documentsçš„æ€»æ•°ï¼Œä¹‹åçš„æ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªdocumentï¼Œæ¯ä¸ªdocumentæ˜¯ä¸€ä¸ªword listï¼Œæˆ–è€…è¯´æ˜¯bag of wordsã€‚</p>
<pre>[document i] = [word i1] [word i2] ... [word iNi]</pre>

<p>å„å‚æ•°å«ä¹‰ï¼š<br><strong>-est </strong>ä»è®­ç»ƒè¯­æ–™ä¸­è¯„ä¼°å‡ºLDAæ¨¡å‹<br><strong>-alpha</strong> LDAæ¨¡å‹ä¸­çš„alphaæ•°å€¼ï¼Œé»˜è®¤ä¸º50/K(Kæ˜¯ä¸»é¢˜æ•°ç›®)<br><strong>-beta</strong> LDAæ¨¡å‹ä¸­çš„betaæ•°å€¼ï¼Œé»˜è®¤æ˜¯0.1<br><strong>-ntopics</strong> ä¸»é¢˜æ•°ç›®ï¼Œé»˜è®¤å€¼æ˜¯100<br><strong>-niters</strong> GIbbsé‡‡æ ·çš„è¿­ä»£æ•°ç›®ï¼Œé»˜è®¤å€¼ä¸º2000<br><strong>-savestep</strong> æŒ‡å®šå¼€å§‹ä¿å­˜LDAæ¨¡å‹çš„è¿­ä»£æ¬¡æ•°<br><strong>-dir</strong> è®­ç»ƒè¯­æ–™ç›®å½•<br><strong>-dfile</strong> è®­ç»ƒè¯­æ–™æ–‡ä»¶åç§°</p>
</li>
<li><p>ä¿®æ”¹é¡¹ç›®çš„Run Configurationsï¼Œåœ¨Java Applicationä¸­é€‰æ‹©LDAï¼Œç‚¹å‡»(x)=Argumentsï¼Œè¾“å…¥</p>
<pre>-est -alpha 0.2 -beta 0.1 -ntopics 100 -niters 1000 -savestep 100 -twords 100 -dir  Users\x\MyEclipse1\JGibbLDA-v.1.0\models\casestudy-en -dfile "newdocs.dat"</pre>

<p> è‹¥åˆ©ç”¨å·²è®­ç»ƒçš„LDAæ¨¡å‹é¢„æµ‹ï¼Œè¾“å…¥ä»¥ä¸‹å‚æ•°ï¼š</p>
<pre>-inf -dir  Users\x\MyEclipse1\JGibbLDA-v.1.0\models\casestudy-en -dfile "test.txt"</pre>

<p> æ³¨æ„ï¼Œè¿›è¡Œé¢„æµ‹æ—¶ï¼Œå½“å‰ç›®å½•ä¸‹å¿…é¡»åŒ…å«å·²æœ‰çš„LDAè®­ç»ƒè¾“å‡ºæ–‡ä»¶ï¼ŒåŒ…æ‹¬model-final.othersã€model-final.phiã€model-final.tassignã€model-final.thetaã€model-final.twordsã€wordmap.txtæ–‡ä»¶ï¼Œå¦‚æœè¿è¡ŒæŠ¥é”™ï¼Œå°è¯•ä¿®æ”¹LDACmdOption.javaçš„modelNameï¼Œç¡®ä¿å’Œæ–‡ä»¶åçš„modelnameéƒ¨åˆ†ä¸€è‡´ã€‚<br><pre>@Option(name=â€-modelâ€, usage=â€Specify the model nameâ€)<br> public String modelName = â€œmodel-finalâ€;</pre>   </p>
<p> å¦‚æœå‡ºç°java heap limitedçš„é—®é¢˜ï¼Œåœ¨VM argumentsä¸‹æ·»åŠ </p>
<pre>-Xms1g -Xmx1g -Xmn512m</pre>
</li>
<li><p>Run<br>è¾“å‡ºæ–‡ä»¶ä¸»è¦æœ‰ï¼š<br><strong><model_name>.others</model_name></strong>  æ–‡ä»¶å­˜å‚¨LDAæ¨¡å‹å‚æ•°ï¼Œå¦‚alphaã€betaç­‰ã€‚<br><strong><model_name>.phi </model_name></strong> æ¯ä¸ªtopicå†…å¯¹docçš„åˆ†å¸ƒæƒ…å†µã€‚æ–‡ä»¶å­˜å‚¨è¯è¯­-ä¸»é¢˜åˆ†å¸ƒï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªä¸»é¢˜ï¼Œåˆ—å†…å®¹ä¸ºè¯è¯­ã€‚<br><strong><model_name>.theta </model_name></strong> æ¯ä¸ªdocå†…å¯¹åº”ä¸Šé¢çš„nä¸ªtopicçš„åˆ†å¸ƒæƒ…å†µã€‚æ–‡ä»¶ä¸»é¢˜æ–‡æ¡£åˆ†å¸ƒï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªæ–‡æ¡£ï¼Œåˆ—å†…å®¹æ˜¯ä¸»é¢˜æ¦‚ç‡ã€‚<br><strong><model_name>.tassign</model_name></strong>  æ–‡ä»¶æ˜¯è®­ç»ƒé¢„æ–™ä¸­å•è¯çš„ä¸»é¢˜æŒ‡å®šï¼ˆå½’å±ï¼‰ï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªè¯­æ–™æ–‡æ¡£ã€‚<br><strong><model_name>.twords</model_name></strong>  nä¸ªtopicï¼Œä»¥åŠæ¯ä¸ªtopicä¸‹é¢åŒ…å«çš„å…·ä½“çš„å­—è¯<br><strong>wordmap.txt</strong>  è¯-idæ˜ å°„<br>å…¶ä¸­<model_name>æ ¹æ®é‡‡æ ·è¿­ä»£æ¬¡æ•°æ¥æŒ‡å®šï¼Œå¦‚model-00800ï¼Œæœ€åä¸€æ¬¡é‡‡æ ·åç§°å‘½åä¸ºmodel-finalã€‚</model_name></p>
</li>
</ol>
<blockquote>
<p>å‚è€ƒé“¾æ¥ï¼š<br><a href="http://www.ithao123.cn/content-4208214.html" target="_blank" rel="external">http://www.ithao123.cn/content-4208214.html</a><br><a href="http://jgibblda.sourceforge.net/" target="_blank" rel="external">http://jgibblda.sourceforge.net/</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/gollum:-githubä¸Šæ­å»ºä¸ªäººwiki/" itemprop="url">
                  gollum/-githubä¸Šæ­å»ºä¸ªäººwiki
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-05-13T16:55:07+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Configuration/" itemprop="url" rel="index">
                    <span itemprop="name">Configuration</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/gollum:-githubä¸Šæ­å»ºä¸ªäººwiki/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/05/13/gollum:-githubä¸Šæ­å»ºä¸ªäººwiki/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>åšå®¢å‡¸æ˜¾åˆ›ä½œï¼Œç»´åŸºåˆ™æ˜¯æ•´ç†çš„å¥½å·¥å…·ï¼Œå¾ˆå¤šå…¥é—¨çº§åˆ«ã€å¤ç”¨åˆ«äººçš„æ“ä½œï¼Œå¦‚é…ç½®ç¯å¢ƒç­‰ï¼Œæ›´é€‚åˆå‘å¸ƒåœ¨ä¸ªäººç»´åŸºä¸Šï¼Œæœ¬æ–‡å°±ä»¥gollum+githubæ­å»ºä¸ªäººwikiåšä¸ªç¤ºèŒƒã€‚</p>
<h3 id="å¼€é€šWiki"><a href="#å¼€é€šWiki" class="headerlink" title="å¼€é€šWiki"></a>å¼€é€šWiki</h3><p>ç™»é™†Githubï¼Œæ‰¾åˆ°ä½ æ‰€å¼€é€šçš„Githubé¡¹ç›®çš„Settingsæ ç›®ï¼Œå¼€é€šWikisï¼Œå¦‚æœåªå¸Œæœ›åˆ«äººå¯è¯»ä¸å¯å†™ï¼Œå‹¾é€‰ï¼šRestrict edits to Collaborators onlyã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-05-26%20%E4%B8%8B%E5%8D%884.56.12.png" alt=""></p>
<h3 id="git-cloneä¸‹ç›¸åº”ç»´åŸºçš„gitåœ°å€"><a href="#git-cloneä¸‹ç›¸åº”ç»´åŸºçš„gitåœ°å€" class="headerlink" title="git cloneä¸‹ç›¸åº”ç»´åŸºçš„gitåœ°å€"></a>git cloneä¸‹ç›¸åº”ç»´åŸºçš„gitåœ°å€</h3><pre> git clone git@github.com:Shuang0420/Shuang0420.github.io.wiki.git wiki</pre>

<p>å¦‚æœä½ ä¹‹å‰æ²¡æœ‰è®¾ç½®gitå¯†é’¥ï¼Œå¯ä»¥å‚ç…§ä»¥ä¸‹æ­¥éª¤å…ˆåšé…ç½®ï¼Œå¦‚æœå·²ç»è®¾ç½®ï¼Œè¯·å¿½ç•¥ã€‚</p>
<ol>
<li><p>æŸ¥çœ‹æ˜¯å¦å·²ç»æœ‰äº†sshå¯†é’¥ï¼š<br><pre>cd ~/.ssh</pre><br>å¦‚æœæ²¡æœ‰å¯†é’¥åˆ™ä¸ä¼šæœ‰æ­¤æ–‡ä»¶å¤¹ï¼Œæœ‰åˆ™å¤‡ä»½åˆ é™¤</p>
</li>
<li><p>ç”Ÿæˆå¯†é’¥ï¼Œå¾—åˆ°ä¸¤ä¸ªæ–‡ä»¶ï¼šid_rsa å’Œ id_rsa.pub</p>
<pre>ssh-keygen -t rsa -C â€œhaiyan.xu.vip@gmail.comâ€</pre>
</li>
<li><p>æ·»åŠ å¯†é’¥åˆ°sshï¼šssh-add id_rsa</p>
</li>
<li><p>åœ¨githubä¸Šsettingsä¸­æ·»åŠ sshå¯†é’¥ï¼Œå³â€œid_rsa.pubâ€é‡Œçš„å…¬é’¥ã€‚</p>
</li>
<li><p>æµ‹è¯•ï¼šssh git@github.com</p>
</li>
</ol>
<h3 id="é…ç½®ä¸ªäººwiki"><a href="#é…ç½®ä¸ªäººwiki" class="headerlink" title="é…ç½®ä¸ªäººwiki"></a>é…ç½®ä¸ªäººwiki</h3><ol>
<li><p>åœ¨wikiç›®å½•ä¸‹ï¼Œå®‰è£…bundler</p>
<pre>gem install bundler</pre>

<p>   å¦‚æœå®‰è£…æ²¡æœ‰é—®é¢˜ï¼Œå¯ä»¥è·³è¿‡ä»¥ä¸‹é”™è¯¯è§£å†³ã€‚</p>
   <pre>
   ERROR:  Could not find a valid gem 'bundler' (>= 0), here is why:
             Unable to download data from https://rubygems.org/ - Errno::EPIPE: Broken pipe - SSL_connect (https://rubygems.org/latest_specs.4.8.gz)</pre>

<p>   è§£å†³ï¼š</p>
   <pre>gem source -a http://rubygems.org/
   gem install bundler</pre>

<p>   ç„¶è€Œè¿˜æ˜¯æœ‰é”™è¯¯ï¼š</p>
   <pre>Fetching: bundler-1.12.5.gem (100%)^[[A
   ERROR:  While executing gem ... (Gem::FilePermissionError)
       You don't have write permissions for the /Library/Ruby/Gems/2.0.0 directory.</pre>

<p>   å› ä¸ºæ²¡æœ‰sudoï¼š</p>
   <pre>sudo gem install bundler</pre>
</li>
<li><p>æ–°å»ºGemfileæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
   <pre>
   source "http://rubygems.org"
   gem 'redcarpet'
   gem "grit", '~> 2.5.0', git: 'https://github.com/gitlabhq/grit.git', ref: '42297cdcee16284d2e4eff23d41377f52fc28b9d'
   gem 'gollum', git: 'https://github.com/gollum/gollum.git'</pre></li>
<li><p>è¿è¡Œï¼š</p>
   <pre>
   # å®‰è£…é¡¹ç›®ä¾èµ–çš„æ‰€æœ‰gemåŒ…;æ­¤å‘½ä»¤ä¼šå°è¯•æ›´æ–°ç³»ç»Ÿä¸­å·²å­˜åœ¨çš„gemåŒ…
   bundle install</pre>

<p>   æ—¶é—´æœ‰ç‚¹ä¹…ï¼Œè€å¿ƒç­‰å¾…ã€‚<br>   ç„¶è€Œæœ€åå‡ºç°error,</p>
   <pre>An error occurred while installing charlock_holmes (0.7.3), and Bundler cannot continue.
   Make sure that `gem install charlock_holmes -v '0.7.3'` succeeds before bundling.</pre>

<p>   å¥½ã€‚é‚£å°±æŒ‰è¦æ±‚å®‰è£…ã€‚</p>
   <pre>sudo gem install charlock_holmes -v '0.7.3'</pre>

<p>   <img src="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-05-26%20%E4%B8%8B%E5%8D%885.25.54.png" alt=""></p>
<p>   å¥½ã€‚ç»§ç»­æŒ‰è¦æ±‚å®‰è£…ã€‚</p>
   <pre>brew install icu4c</pre>

<p>   å†é‡æ¥</p>
   <pre>sudo gem install charlock_holmes -v '0.7.3'</pre>

   <pre>bundle install</pre>

<p>   <img src="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-05-27%20%E4%B8%8A%E5%8D%889.46.38.png" alt=""></p>
<p>   å› ä¸ºæ²¡æœ‰å®‰è£…bundle</p>
   <pre>gem install bundle</pre>

<p>   å®‰è£…åå†æ¬¡å°è¯•è¿è¡Œ</p>
   <pre>bundle install</pre>

<p>   error</p>
   <pre>Could not reach host index.rubygems.org. Check your network connection and try again.</pre>
   å‡ºç°è¿™ç§é”™è¯¯å¯ä»¥å°è¯•æŠŠGemfileé‡Œçš„httpsæ”¹æˆhttpï¼ˆäº’ç›¸è½¬åŒ–è¿›è¡Œå°è¯•ï¼‰

   <pre>bundle install</pre>

<p>   ç»ˆäºæˆåŠŸï¼</p>
</li>
<li><p>å·²å®‰è£…æˆåŠŸgollumç­‰ã€‚ç„¶åè¿è¡Œï¼š</p>
   <pre>gollum</pre>

<p>   èµ°åˆ°è¿™ä¸€æ­¥äº†æœ¬äººè¿˜æ˜¯é‡åˆ°äº†ä¸‡æ¶çš„å¤±è´¥ã€‚<br>   çœ‹ç€å·²ç»å®‰è£…å¥½äº†</p>
   <pre>
   Installing nokogiri 1.6.7.2 with native extensions
   Installing rack-protection 1.5.3
   Installing gollum-grit_adapter 1.0.1
   Installing sanitize 2.1.0
   Installing sinatra 1.4.7
   Installing gollum-lib 4.2.0
   Using gollum 4.0.1 from https://github.com/gollum/gollum.git (at master@5a5e56a)
   Bundle complete! 3 Gemfile dependencies, 24 gems now installed.
   Use `bundle show [gemname]` to see where a bundled gem is installed.
   </pre>

<p>   ç„¶è€Œå®é™…å¹¶æ²¡æœ‰</p>
   <pre>
   $ gollum
   -bash: gollum: command not found</pre>

<p>   å¤§å†™çš„å¿§ä¼¤ã€‚æœ€åé€šè¿‡ç›´æ¥å®‰è£…gollumè§£å†³ã€‚</p>
   <pre>sudo gem install gollum</pre>

   <pre>gollum</pre>
</li>
<li><p>ç»ˆäºå¯ä»¥åœ¨æœ¬åœ°å¯åŠ¨æˆåŠŸç»´åŸºã€‚æ‰“å¼€ç½‘å€ï¼š<a href="http://0.0.0.0:4567/ï¼Œå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­ç¼–è¾‘ã€‚" target="_blank" rel="external">http://0.0.0.0:4567/ï¼Œå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­ç¼–è¾‘ã€‚</a></p>
<p>   <img src="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-05-26%20%E4%B8%8B%E5%8D%886.26.05.png" alt=""></p>
<p>   å¦‚æœå‘ç°ä¸èƒ½å¦‚ä¸‹é”™è¯¯ï¼Œè¯·å°è¯•æ›´æ–°rubyã€‚</p>
<p>   <img src="http://7xu83c.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-05-26%20%E4%B8%8B%E5%8D%889.31.07.png" alt=""></p>
<p>   æ›´æ–°rubyæ­¥éª¤<br>   å®‰è£… RVM<br>   RVM:Ruby Version Manager,Rubyç‰ˆæœ¬ç®¡ç†å™¨ï¼ŒåŒ…æ‹¬Rubyçš„ç‰ˆæœ¬ç®¡ç†å’ŒGemåº“ç®¡ç†(gemset)</p>
   <pre>curl -L get.rvm.io | bash -s stable</pre>

   <pre>source ~/.bashrc  
   source ~/.bash_profile </pre>

<p>   æµ‹è¯•æ˜¯å¦å®‰è£…æ­£å¸¸</p>
   <pre>rvm -v  </pre>

<p>   ç”¨RVMå‡çº§Ruby</p>
   <pre>
   #æŸ¥çœ‹å½“å‰rubyç‰ˆæœ¬  
   ruby -v  
   #åˆ—å‡ºå·²çŸ¥çš„rubyç‰ˆæœ¬  
   rvm list known  
   #å®‰è£…ruby 2.3.0
   rvm install 2.3.0 </pre>

<p>   å®‰è£…å®Œæˆä¹‹åruby -væŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p>
<p>   é‡æ–°å®‰è£…å®Œæ¯•åå›åˆ°ç¬¬3æ­¥ã€‚</p>
</li>
</ol>
<h3 id="githubåŒæ­¥"><a href="#githubåŒæ­¥" class="headerlink" title="githubåŒæ­¥"></a>githubåŒæ­¥</h3><p>åœ¨wikiç›®å½•ä¸‹é¢ï¼Œè¿›è¡Œgitåº“æ“ä½œï¼Œæäº¤æœ¬åœ°å¯¹ç»´åŸºå†…å®¹çš„ä¿®æ”¹ã€‚ä¸€åˆ‡å°†è‡ªåŠ¨ä¿å­˜åœ¨ä½ çš„Githubä¸Šçš„ä¸ªäººåšå®¢ç½‘ç«™çš„wikiç›®å½•ä¸‹é¢ã€‚</p>
<pre>
cd ~/wiki
git add .
git commit -am"first commit"
git push</pre>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/12/Github-Pages-Hexoæ­å»ºä¸ªäººåšå®¢/" itemprop="url">
                  Github Pages+Hexoæ­å»ºä¸ªäººåšå®¢
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-05-12T16:55:07+08:00" content="2016-05-12">
              2016-05-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Configuration/" itemprop="url" rel="index">
                    <span itemprop="name">Configuration</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/12/Github-Pages-Hexoæ­å»ºä¸ªäººåšå®¢/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/05/12/Github-Pages-Hexoæ­å»ºä¸ªäººåšå®¢/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ä¸ºä»€ä¹ˆç”¨Github-Pages-Hexo"><a href="#ä¸ºä»€ä¹ˆç”¨Github-Pages-Hexo" class="headerlink" title="ä¸ºä»€ä¹ˆç”¨Github Pages + Hexo"></a>ä¸ºä»€ä¹ˆç”¨Github Pages + Hexo</h1><h2 id="Github-Pageä¼˜ç‚¹"><a href="#Github-Pageä¼˜ç‚¹" class="headerlink" title="Github Pageä¼˜ç‚¹"></a>Github Pageä¼˜ç‚¹</h2><ul>
<li>è½»é‡çº§çš„åšå®¢ç³»ç»Ÿï¼Œæ²¡æœ‰éº»çƒ¦çš„é…ç½®</li>
<li>ä½¿ç”¨æ ‡è®°è¯­è¨€ï¼Œæ¯”å¦‚<a href="http://markdown.tw/" target="_blank" rel="external">Markdown</a></li>
<li>æ— éœ€è‡ªå·±æ­å»ºæœåŠ¡å™¨</li>
<li>æ ¹æ®Githubçš„é™åˆ¶ï¼Œå¯¹åº”çš„æ¯ä¸ªç«™æœ‰300MBç©ºé—´</li>
<li>å¯ä»¥ç»‘å®šè‡ªå·±çš„åŸŸå</li>
</ul>
<p>Github Pageæœ‰ä¸¤ç§pageæ¨¡å¼ï¼ŒUser/Organization Pagesï¼ˆä¸ªäººæˆ–å…¬å¸ç«™ç‚¹ï¼‰å’ŒProject Pagesï¼ˆé¡¹ç›®ç«™ç‚¹ï¼‰ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨çš„æ˜¯user/Organization Pagesï¼Œè¦æ±‚ä½¿ç”¨è‡ªå·±çš„ç”¨æˆ·åï¼Œæ¯ä¸ªç”¨æˆ·åä¸‹é¢åªèƒ½å»ºç«‹ä¸€ä¸ªï¼Œèµ„æºå‘½åå¿…é¡»ç¬¦åˆè¿™æ ·çš„è§„åˆ™username/username.github.comï¼Œä¸»å¹²ä¸Šå†…å®¹è¢«ç”¨æ¥æ„å»ºå’Œå‘å¸ƒé¡µé¢</p>
<h2 id="Hexoä¼˜ç‚¹"><a href="#Hexoä¼˜ç‚¹" class="headerlink" title="Hexoä¼˜ç‚¹"></a>Hexoä¼˜ç‚¹</h2><ul>
<li>ç”¨äºæ­å»ºåšå®¢ç½‘ç«™æ¡†æ¶ï¼Œå¯ä»¥ç®€å•å®ç°ä¼˜ç¾çš„åšå®¢ç½‘ç«™;</li>
<li>åœ¨æœ¬åœ°ç«¯æ­å»ºï¼Œå°±å¯è„±æœºæŸ¥é˜…;</li>
<li>æ¶æ„ä¸ä¾æ‰˜äºå…¶ä»–é—¨æˆ·ç½‘ç«™ï¼Œä¸å†æ‹…å¿ƒé—¨æˆ·ç½‘ç«™å€’é—­ï¼Œä¸æ‹…å¿ƒåšæ–‡ä¸¢å¤±æˆ–éš¾ä»¥å¯¼å‡º;</li>
<li>åšæ–‡ä¸ºmarkdownæ ¼å¼ï¼Œé€šç”¨ï¼Œå®¹æ˜“ä¸Šæ‰‹ï¼Œä¾¿äºå¿«é€Ÿä¹¦å†™;</li>
<li>å¯éƒ¨ç½²åœ¨githubä¸Šï¼›</li>
<li>åˆ›é€ è€…æ¥è‡ªä¸­å›½å°æ¹¾ï¼Œæ‰€ä»¥å‡ ä¹æ‰€æœ‰æ¨¡æ¿éƒ½å…³æ³¨åˆ°äº†ä¸­æ–‡çš„å…¼å®¹æ€§ï¼Œå¾ˆé€‚åˆä½¿ç”¨æ±‰è¯­çš„ç å†œã€‚</li>
</ul>
<h1 id="æ­å»ºæ­¥éª¤"><a href="#æ­å»ºæ­¥éª¤" class="headerlink" title="æ­å»ºæ­¥éª¤"></a>æ­å»ºæ­¥éª¤</h1><h2 id="æ–°å»ºgithub-repository"><a href="#æ–°å»ºgithub-repository" class="headerlink" title="æ–°å»ºgithub repository"></a>æ–°å»ºgithub repository</h2><p>åœ¨githubä¸Šæ–°å»ºrepositoryï¼Œnameä¸ºusername.github.ioã€‚</p>
<h2 id="Hexoå®‰è£…"><a href="#Hexoå®‰è£…" class="headerlink" title="Hexoå®‰è£…"></a>Hexoå®‰è£…</h2><p>å…ˆå®‰è£…gitå’Œnode.js</p>
<pre>brew install git
brew install node</pre>
éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ
<pre>node -v
npm -v</pre>
å®‰è£…Hexo
<pre>npm install -g hexo #-gè¡¨ç¤ºå…¨å±€å®‰è£…, npmé»˜è®¤ä¸ºå½“å‰é¡¹ç›®å®‰è£…</pre>

<h2 id="Hexoéƒ¨ç½²"><a href="#Hexoéƒ¨ç½²" class="headerlink" title="Hexoéƒ¨ç½²"></a>Hexoéƒ¨ç½²</h2><p>æ–°å»ºæ–‡ä»¶å¤¹å¹¶æ‰“å¼€ï¼Œåœ¨æ–‡ä»¶å¤¹å†…æ“ä½œã€‚</p>
<pre> hexo init #æ–°å»ºåšå®¢ç›®å½•
 hexo g #æ ¹æ®å½“å‰ç›®å½•ä¸‹æ–‡ä»¶ç”Ÿæˆé™æ€ç½‘é¡µ
 hexo s #å¯åŠ¨æœåŠ¡å™¨</pre>

<p>ç°åœ¨å°±å¯ä»¥åˆ°æµè§ˆå™¨è¾“å…¥localhost:4000æŸ¥çœ‹å•¦ã€‚</p>
<p>ç®€å•ä»‹ç»ä¸€ä¸‹æ–‡ä»¶ç›®å½•</p>
<ul>
<li>publicï¼šæ‰§è¡Œhexo generateå‘½ä»¤ï¼Œè¾“å‡ºçš„é™æ€ç½‘é¡µå†…å®¹ç›®å½•</li>
<li>scaffoldsï¼šlayoutæ¨¡æ¿æ–‡ä»¶ç›®å½•ï¼Œå…¶ä¸­çš„mdæ–‡ä»¶å¯ä»¥æ·»åŠ ç¼–è¾‘</li>
<li>scriptsï¼šæ‰©å±•è„šæœ¬ç›®å½•ï¼Œè¿™é‡Œå¯ä»¥è‡ªå®šä¹‰ä¸€äº›javascriptè„šæœ¬</li>
<li>sourceï¼šæ–‡ç« æºç ç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹çš„markdownå’Œhtmlæ–‡ä»¶å‡ä¼šè¢«hexoå¤„ç†ã€‚è¯¥é¡µé¢å¯¹åº”repoçš„æ ¹ç›®å½•ï¼Œ404æ–‡ä»¶ã€favicon.icoæ–‡ä»¶ï¼ŒCNAMEæ–‡ä»¶ç­‰éƒ½åº”è¯¥æ”¾è¿™é‡Œï¼Œè¯¥ç›®å½•ä¸‹å¯æ–°å»ºé¡µé¢ç›®å½•ã€‚</li>
<li>draftsï¼šè‰ç¨¿æ–‡ç« </li>
<li>postsï¼šå‘å¸ƒæ–‡ç« themesï¼šä¸»é¢˜æ–‡ä»¶ç›®å½•</li>
<li>config.ymlï¼šå…¨å±€é…ç½®æ–‡ä»¶ï¼Œå¤§å¤šæ•°çš„è®¾ç½®éƒ½åœ¨è¿™é‡Œ</li>
<li>package.jsonï¼šåº”ç”¨ç¨‹åºæ•°æ®ï¼ŒæŒ‡æ˜hexoçš„ç‰ˆæœ¬ç­‰ä¿¡æ¯ï¼Œç±»ä¼¼äºä¸€èˆ¬è½¯ä»¶ä¸­çš„ å…³äº æŒ‰é’®</li>
</ul>
<h2 id="Hexoå¤åˆ¶ä¸»é¢˜"><a href="#Hexoå¤åˆ¶ä¸»é¢˜" class="headerlink" title="Hexoå¤åˆ¶ä¸»é¢˜"></a>Hexoå¤åˆ¶ä¸»é¢˜</h2><pre> hexo clean
 hexo g
 hexo s
 git clone https://github.com/cnfeat/cnfeat.git themes/jacman</pre>

<h2 id="å¯ç”¨ä¸»é¢˜"><a href="#å¯ç”¨ä¸»é¢˜" class="headerlink" title="å¯ç”¨ä¸»é¢˜"></a>å¯ç”¨ä¸»é¢˜</h2><p>ä¿®æ”¹Hexoç›®å½•ä¸‹çš„config.ymlé…ç½®æ–‡ä»¶ä¸­çš„themeå±æ€§ï¼Œå°†å…¶è®¾ç½®ä¸ºjacmanã€‚</p>
<pre>theme: jacman #æˆ–ä½ çš„ä¸»é¢˜åï¼Œæ³¨æ„å†’å·åæœ‰ä¸€ä¸ªç©ºæ ¼</pre>

<p>æ³¨æ„ï¼šHexoæœ‰ä¸¤ä¸ªconfig.ymlæ–‡ä»¶ï¼Œä¸€ä¸ªåœ¨æ ¹ç›®å½•ï¼Œä¸€ä¸ªåœ¨themeä¸‹ï¼Œæ­¤æ—¶ä¿®æ”¹çš„æ˜¯åœ¨æ ¹ç›®å½•ä¸‹çš„ã€‚</p>
<h2 id="æ›´æ–°ä¸»é¢˜"><a href="#æ›´æ–°ä¸»é¢˜" class="headerlink" title="æ›´æ–°ä¸»é¢˜"></a>æ›´æ–°ä¸»é¢˜</h2><pre> cd themes/jacman
 git pull</pre>

<p>æ³¨æ„ï¼šä¸ºé¿å…å‡ºé”™ï¼Œè¯·å…ˆå¤‡ä»½ä½ çš„_config.yml æ–‡ä»¶åå†å‡çº§</p>
<h2 id="Hexoæœ¬åœ°è°ƒè¯•"><a href="#Hexoæœ¬åœ°è°ƒè¯•" class="headerlink" title="Hexoæœ¬åœ°è°ƒè¯•"></a>Hexoæœ¬åœ°è°ƒè¯•</h2><pre> hexo g #ç”Ÿæˆ
 hexo s #å¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œè¿›è¡Œæ–‡ç« é¢„è§ˆè°ƒè¯•
 hexo d -g #æˆ–è€…ç›´æ¥ä½œç”¨ç»„åˆå‘½ä»¤</pre>

<p>æµè§ˆå™¨è¾“å…¥localhost:4000ï¼Œå³å¯æŸ¥çœ‹æ­å»ºæ•ˆæœã€‚æ¯æ¬¡å˜æ›´config.yml æ–‡ä»¶æˆ–è€…ä¸Šä¼ æ–‡ä»¶éƒ½å¯ä»¥å…ˆç”¨æ­¤å‘½ä»¤è°ƒè¯•ã€‚</p>
<h2 id="Hexoéƒ¨ç½²åˆ°github"><a href="#Hexoéƒ¨ç½²åˆ°github" class="headerlink" title="Hexoéƒ¨ç½²åˆ°github"></a>Hexoéƒ¨ç½²åˆ°github</h2><pre>npm install hexo-deployer-git --save</pre>
åœ¨ Hexo æ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ° config.yml æ–‡ä»¶, æ‰¾åˆ°å…¶ä¸­çš„ deploy æ ‡ç­¾ï¼Œæ”¹æˆä¸‹å›¾æ‰€ç¤ºå½¢å¼ï¼Œå¹¶ä¿å­˜ã€‚æ³¨æ„ï¼šå†’å·åé¢è¦åŠ ä¸Šä¸€ä¸ªç©ºæ ¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™
<pre>
deploy:
  type: git
  repo: https://github.com/Shuang0420/Shuang0420.github.io.git</pre>

<p>è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<pre>hexo clean
hexo generate
hexo deploy</pre>


<h2 id="å‘åšæ–‡"><a href="#å‘åšæ–‡" class="headerlink" title="å‘åšæ–‡"></a>å‘åšæ–‡</h2><pre>
 hexo new "postname" #ç„¶ååœ¨postsç›®å½•ä¸‹çš„postname.mdæ–‡ä»¶ä¸­ç¼–è¾‘åšå®¢
 hexo clean
 hexo generate
 # (è‹¥è¦æœ¬åœ°é¢„è§ˆå°±å…ˆæ‰§è¡Œ hexo server)
 hexo deploy</pre>

<h2 id="å¿«æ·å‘½ä»¤ï¼š"><a href="#å¿«æ·å‘½ä»¤ï¼š" class="headerlink" title="å¿«æ·å‘½ä»¤ï¼š"></a>å¿«æ·å‘½ä»¤ï¼š</h2><pre> hexo g == hexo generate
 hexo d == hexo deploy
 hexo s == hexo server
 hexo n == hexo new
# è¿˜èƒ½ç»„åˆä½¿ç”¨ï¼Œå¦‚ï¼š
hexo d -g</pre>

<blockquote>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<blockquote>
<p><a href="http://mozhenhau.com/2015/03/05/%E5%9C%A8Mac%E9%80%9A%E8%BF%87Hexo%E5%9C%A8github%E4%B8%8A%E5%BB%BA%E7%AB%8B%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/" target="_blank" rel="external">http://mozhenhau.com/2015/03/05/%E5%9C%A8Mac%E9%80%9A%E8%BF%87Hexo%E5%9C%A8github%E4%B8%8A%E5%BB%BA%E7%AB%8B%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/</a></p>
<p><a href="http://evakasch.github.io/2016/05/04/hexo-setup/" target="_blank" rel="external">http://evakasch.github.io/2016/05/04/hexo-setup/</a></p>
</blockquote>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/22/è®©è¿›ç¨‹åœ¨åå°å¯é è¿è¡Œçš„å‡ ç§æ–¹æ³•/" itemprop="url">
                  è®©è¿›ç¨‹åœ¨åå°å¯é è¿è¡Œçš„å‡ ç§æ–¹æ³•
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-04-22T16:55:07+08:00" content="2016-04-22">
              2016-04-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/04/22/è®©è¿›ç¨‹åœ¨åå°å¯é è¿è¡Œçš„å‡ ç§æ–¹æ³•/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/04/22/è®©è¿›ç¨‹åœ¨åå°å¯é è¿è¡Œçš„å‡ ç§æ–¹æ³•/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å½“ç”¨æˆ·æ³¨é”€ï¼ˆlogoutï¼‰æˆ–è€…ç½‘ç»œæ–­å¼€æ—¶ï¼Œç»ˆç«¯ä¼šæ”¶åˆ° HUPï¼ˆhangupï¼‰ä¿¡å·ä»è€Œå…³é—­å…¶æ‰€æœ‰å­è¿›ç¨‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„è§£å†³åŠæ³•å°±æœ‰ä¸¤ç§é€”å¾„ï¼šè¦ä¹ˆè®©è¿›ç¨‹å¿½ç•¥ HUP ä¿¡å·ï¼Œè¦ä¹ˆè®©è¿›ç¨‹è¿è¡Œåœ¨æ–°çš„ä¼šè¯é‡Œä»è€Œæˆä¸ºä¸å±äºæ­¤ç»ˆç«¯çš„å­è¿›ç¨‹ã€‚</p>
<h3 id="nohup"><a href="#nohup" class="headerlink" title="nohup"></a>nohup</h3><p>åªéœ€åœ¨è¦å¤„ç†çš„å‘½ä»¤å‰åŠ ä¸Š nohup å³å¯ï¼Œæ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯ç¼ºçœä¼šè¢«é‡å®šå‘åˆ° nohup.out æ–‡ä»¶ä¸­ã€‚åŒæ—¶å¯åœ¨ç»“å°¾åŠ ä¸Šâ€&amp;â€æ¥å°†å‘½ä»¤åŒæ—¶æ”¾å…¥åå°è¿è¡Œï¼Œä¹Ÿå¯ç”¨â€&gt;filename 2&gt;&amp;1â€æ¥æ›´æ”¹ç¼ºçœçš„é‡å®šå‘æ–‡ä»¶åã€‚</p>
<pre>
$ nohup ping www.ibm.com &
[1] 6982
$ nohup: appending output to `nohup.out'
$ ps -ef |grep www.ibm.com
  501  6982  5823   0  4:23ä¸‹åˆ ttys000    0:00.03 ping www.ibm.com
  501  7120  5823   0  4:26ä¸‹åˆ ttys000    0:00.01 grep www.ibm.com
</pre>

<h3 id="setsid"><a href="#setsid" class="headerlink" title="setsid"></a>setsid</h3><p>nohup èƒ½é€šè¿‡å¿½ç•¥ HUP ä¿¡å·æ¥ä½¿æˆ‘ä»¬çš„è¿›ç¨‹é¿å…ä¸­é€”è¢«ä¸­æ–­ï¼Œæ¢ä¸ªè§’åº¦æ€è€ƒï¼Œå¦‚æœæˆ‘ä»¬çš„è¿›ç¨‹ä¸å±äºæ¥å— HUP ä¿¡å·çš„ç»ˆç«¯çš„å­è¿›ç¨‹ï¼Œé‚£ä¹ˆè‡ªç„¶ä¹Ÿå°±ä¸ä¼šå—åˆ° HUP ä¿¡å·çš„å½±å“äº†ã€‚setsid å°±èƒ½å¸®åŠ©æˆ‘ä»¬åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>
<pre>
$ setsid ping www.ibm.com
$ ps -ef |grep www.ibm.com
root     31094     1  0 07:28 ?        00:00:00 ping www.ibm.com
root     31102 29217  0 07:29 pts/4    00:00:00 grep www.ibm.com
</pre>

<p>  å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸Šä¾‹ä¸­æˆ‘ä»¬çš„è¿›ç¨‹ ID(PID)ä¸º31094ï¼Œè€Œå®ƒçš„çˆ¶ IDï¼ˆPPIDï¼‰ä¸º1ï¼ˆå³ä¸º init è¿›ç¨‹ IDï¼‰ï¼Œå¹¶ä¸æ˜¯å½“å‰ç»ˆç«¯çš„è¿›ç¨‹ IDã€‚è¯·å°†æ­¤ä¾‹ä¸nohup ä¾‹ä¸­çš„çˆ¶ ID åšæ¯”è¾ƒã€‚</p>
<h3 id="disown"><a href="#disown" class="headerlink" title="disown"></a>disown</h3><p>å¦‚æœæœªåŠ ä»»ä½•å¤„ç†å°±å·²ç»æäº¤äº†å‘½ä»¤ï¼Œè¯¥å¦‚ä½•è¡¥æ•‘æ‰èƒ½è®©å®ƒé¿å… HUP ä¿¡å·çš„å½±å“å‘¢ï¼Ÿ</p>
<ul>
<li>ç”¨disown -h jobspecæ¥ä½¿æŸä¸ªä½œä¸šå¿½ç•¥HUPä¿¡å·ã€‚</li>
<li>ç”¨disown -ah æ¥ä½¿æ‰€æœ‰çš„ä½œä¸šéƒ½å¿½ç•¥HUPä¿¡å·ã€‚</li>
<li><p>ç”¨disown -rh æ¥ä½¿æ­£åœ¨è¿è¡Œçš„ä½œä¸šå¿½ç•¥HUPä¿¡å·ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨è¿‡ disown ä¹‹åï¼Œä¼šå°†æŠŠç›®æ ‡ä½œä¸šä»ä½œä¸šåˆ—è¡¨ä¸­ç§»é™¤ï¼Œæˆ‘ä»¬å°†ä¸èƒ½å†ä½¿ç”¨jobsæ¥æŸ¥çœ‹å®ƒï¼Œä½†æ˜¯ä¾ç„¶èƒ½å¤Ÿç”¨ps -efæŸ¥æ‰¾åˆ°å®ƒã€‚<br>ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ç§æ–¹æ³•çš„æ“ä½œå¯¹è±¡æ˜¯ä½œä¸šï¼Œå¦‚æœæˆ‘ä»¬åœ¨è¿è¡Œå‘½ä»¤æ—¶åœ¨ç»“å°¾åŠ äº†â€&amp;â€æ¥ä½¿å®ƒæˆä¸ºä¸€ä¸ªä½œä¸šå¹¶åœ¨åå°è¿è¡Œï¼Œé‚£ä¹ˆå°±ä¸‡äº‹å¤§å‰äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡jobså‘½ä»¤æ¥å¾—åˆ°æ‰€æœ‰ä½œä¸šçš„åˆ—è¡¨ã€‚ä½†æ˜¯å¦‚æœå¹¶æ²¡æœ‰æŠŠå½“å‰å‘½ä»¤ä½œä¸ºä½œä¸šæ¥è¿è¡Œï¼Œå¦‚ä½•æ‰èƒ½å¾—åˆ°å®ƒçš„ä½œä¸šå·å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ç”¨ CTRL-zï¼ˆæŒ‰ä½Ctrlé”®çš„åŒæ—¶æŒ‰ä½zé”®ï¼‰äº†ï¼<br>CTRL-z çš„ç”¨é€”å°±æ˜¯å°†å½“å‰è¿›ç¨‹æŒ‚èµ·ï¼ˆSuspendï¼‰ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ç”¨jobså‘½ä»¤æ¥æŸ¥è¯¢å®ƒçš„ä½œä¸šå·ï¼Œå†ç”¨bg jobspecæ¥å°†å®ƒæ”¾å…¥åå°å¹¶ç»§ç»­è¿è¡Œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæŒ‚èµ·ä¼šå½±å“å½“å‰è¿›ç¨‹çš„è¿è¡Œç»“æœï¼Œè¯·æ…ç”¨æ­¤æ–¹æ³•ã€‚</p>
<p>disown ç¤ºä¾‹1ï¼ˆå¦‚æœæäº¤å‘½ä»¤æ—¶å·²ç»ç”¨â€œ&amp;â€å°†å‘½ä»¤æ”¾å…¥åå°è¿è¡Œï¼Œåˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨â€œdisownâ€ï¼‰</p>
<pre>$ cp -r testLargeFile largeFile &
[1] 4825
$ jobs
[1]+  Running                 cp -i -r testLargeFile largeFile &
$ disown -h %1
$ ps -ef |grep largeFile
root      4825   968  1 09:46 pts/4    00:00:00 cp -i -r testLargeFile largeFile
root      4853   968  0 09:46 pts/4    00:00:00 grep largeFile
$ logout</pre>

<p>disown ç¤ºä¾‹2ï¼ˆå¦‚æœæäº¤å‘½ä»¤æ—¶æœªä½¿ç”¨â€œ&amp;â€å°†å‘½ä»¤æ”¾å…¥åå°è¿è¡Œï¼Œå¯ä½¿ç”¨ CTRL-z å’Œâ€œbgâ€å°†å…¶æ”¾å…¥åå°ï¼Œå†ä½¿ç”¨â€œdisownâ€ï¼‰</p>
<pre>$ cp -r testLargeFile largeFile2
[1]+  Stopped                 cp -i -r testLargeFile largeFile2
$ bg %1
[1]+ cp -i -r testLargeFile largeFile2 &
$ jobs
[1]+  Running                 cp -i -r testLargeFile largeFile2 &
$ disown -h %1
$ ps -ef |grep largeFile2
root      5790  5577  1 10:04 pts/3    00:00:00 cp -i -r testLargeFile largeFile2
root      5824  5577  0 10:05 pts/3    00:00:00 grep largeFile2</pre>

</li>
</ul>
<h3 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h3><p>å¦‚æœæœ‰å¤§é‡è¿™ç§å‘½ä»¤éœ€è¦åœ¨ç¨³å®šçš„åå°é‡Œè¿è¡Œï¼Œå¦‚ä½•é¿å…å¯¹æ¯æ¡å‘½ä»¤éƒ½åšè¿™æ ·çš„æ“ä½œå‘¢ï¼Ÿ<br>æ­¤æ—¶æœ€æ–¹ä¾¿çš„æ–¹æ³•å°±æ˜¯ screen äº†ã€‚ç®€å•çš„è¯´ï¼Œscreen æä¾›äº† ANSI/VT100 çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œä½¿å®ƒèƒ½å¤Ÿåœ¨ä¸€ä¸ªçœŸå®ç»ˆç«¯ä¸‹è¿è¡Œå¤šä¸ªå…¨å±çš„ä¼ªç»ˆç«¯ã€‚screen çš„å‚æ•°å¾ˆå¤šï¼Œå…·æœ‰å¾ˆå¼ºå¤§çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬åœ¨æ­¤ä»…ä»‹ç»å…¶å¸¸ç”¨åŠŸèƒ½ä»¥åŠç®€è¦åˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆä½¿ç”¨ screen èƒ½å¤Ÿé¿å… HUP ä¿¡å·çš„å½±å“ã€‚<br>ä½¿ç”¨ screen å¾ˆæ–¹ä¾¿ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªå¸¸ç”¨é€‰é¡¹ï¼š</p>
<ul>
<li>ç”¨screen -dmS session nameæ¥å»ºç«‹ä¸€ä¸ªå¤„äºæ–­å¼€æ¨¡å¼ä¸‹çš„ä¼šè¯ï¼ˆå¹¶æŒ‡å®šå…¶ä¼šè¯åï¼‰ã€‚</li>
<li>ç”¨screen -list æ¥åˆ—å‡ºæ‰€æœ‰ä¼šè¯ã€‚</li>
<li>ç”¨screen -r session nameæ¥é‡æ–°è¿æ¥æŒ‡å®šä¼šè¯ã€‚</li>
<li><p>ç”¨å¿«æ·é”®CTRL-a d æ¥æš‚æ—¶æ–­å¼€å½“å‰ä¼šè¯ã€‚</p>
<p>screen ç¤ºä¾‹</p>
<pre>$ screen -dmS Urumchi
$ screen -list
There is a screen on:
      12842.Urumchi   (Detached)
1 Socket in /tmp/screens/S-root.
$ screen -r Urumchi</pre>

<p>å½“æˆ‘ä»¬ç”¨â€œ-râ€è¿æ¥åˆ° screen ä¼šè¯åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™ä¸ªä¼ªç»ˆç«¯é‡Œé¢ä¸ºæ‰€æ¬²ä¸ºï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒ HUP ä¿¡å·ä¼šå¯¹æˆ‘ä»¬çš„è¿›ç¨‹é€ æˆå½±å“ï¼Œä¹Ÿä¸ç”¨ç»™æ¯ä¸ªå‘½ä»¤å‰éƒ½åŠ ä¸Šâ€œnohupâ€æˆ–è€…â€œsetsidâ€äº†ã€‚</p>
</li>
</ul>
<ol>
<li><p>æœªä½¿ç”¨ screen æ—¶æ–°è¿›ç¨‹çš„è¿›ç¨‹æ ‘</p>
<pre>$ ping www.google.com &
[1] 9499
$ pstree -H 9499
initâ”€â”¬â”€Xvnc
  â”œâ”€acpid
  â”œâ”€atd
  â”œâ”€2*[sendmail]
  â”œâ”€sshdâ”€â”¬â”€sshdâ”€â”€â”€bashâ”€â”€â”€pstree
  â”‚       â””â”€sshdâ”€â”€â”€bashâ”€â”€â”€ping</pre>

<p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæœªä½¿ç”¨ screen æ—¶æˆ‘ä»¬æ‰€å¤„çš„ bash æ˜¯ sshd çš„å­è¿›ç¨‹ï¼Œå½“ ssh æ–­å¼€è¿æ¥æ—¶ï¼ŒHUP ä¿¡å·è‡ªç„¶ä¼šå½±å“åˆ°å®ƒä¸‹é¢çš„æ‰€æœ‰å­è¿›ç¨‹ï¼ˆåŒ…æ‹¬æˆ‘ä»¬æ–°å»ºç«‹çš„ ping è¿›ç¨‹ï¼‰ã€‚</p>
</li>
<li><p>ä½¿ç”¨äº† screen åæ–°è¿›ç¨‹çš„è¿›ç¨‹æ ‘</p>
<pre>$screen -r Urumchi
$ ping www.ibm.com &
[1] 9488
$ pstree -H 9488
initâ”€â”¬â”€Xvnc
  â”œâ”€acpid
  â”œâ”€atd
  â”œâ”€screenâ”€â”€â”€bashâ”€â”€â”€ping
  â”œâ”€2*[sendmail]</pre>

<p>è€Œä½¿ç”¨äº† screen åå°±ä¸åŒäº†ï¼Œæ­¤æ—¶ bash æ˜¯ screen çš„å­è¿›ç¨‹ï¼Œè€Œ screen æ˜¯ initï¼ˆPIDä¸º1ï¼‰çš„å­è¿›ç¨‹ã€‚é‚£ä¹ˆå½“ ssh æ–­å¼€è¿æ¥æ—¶ï¼ŒHUP ä¿¡å·è‡ªç„¶ä¸ä¼šå½±å“åˆ° screen ä¸‹é¢çš„å­è¿›ç¨‹äº†ã€‚</p>
</li>
</ol>
<blockquote>
<p>å‚è€ƒé“¾æ¥<br><a href="http://www.ibm.com/developerworks/cn/linux/l-cn-nohup/" target="_blank" rel="external">http://www.ibm.com/developerworks/cn/linux/l-cn-nohup/</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://7xu83c.com1.z0.glb.clouddn.com/2.pic.jpg"
               alt="å¾é˜¿è¡¡" />
          <p class="site-author-name" itemprop="name">å¾é˜¿è¡¡</p>
          <p class="site-description motion-element" itemprop="description">å®¿å‘½æ˜ŸåŠ¨</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">22</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Shuang0420" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.linkedin.com/in/shuang-xu-7008b894?trk=nav_responsive_tab_profile_pic" target="_blank" title="LinkedIn">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                  LinkedIn
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">å¾é˜¿è¡¡</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'httpshuang0420githubio';
      var disqus_identifier = 'page/2/index.html';
      var disqus_title = "";
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  




  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';                
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });
                            
                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').mousedown(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>

  

  

  

</body>
</html>
